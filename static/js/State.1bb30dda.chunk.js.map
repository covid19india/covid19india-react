{"version":3,"sources":["components/footer.js","hooks/useresizeobserver.js","components/level.js","components/minigraph.js","components/tooltip.js","../node_modules/details-element-polyfill/dist/details-element-polyfill.js","components/loaders/mapvisualizer.js","components/maplegend.js","components/mapvisualizer.js","components/mapexplorer.js","components/timeseries.js","components/timeseriesexplorer.js","../node_modules/react-feather/dist/icons/compass.js","../node_modules/@primer/components/lib/Breadcrumb.js","../node_modules/@primer/components/lib/Dropdown.js","../node_modules/@primer/components/lib/Details.js","../node_modules/@primer/components/lib/DropdownStyles.js","components/deltabargraph.js","components/statemetacard.js","components/statemeta.js","../node_modules/react-feather/dist/icons/smile.js","components/state.js"],"names":["React","memo","props","t","useTranslation","className","style","animationDelay","href","target","rel","justifyContent","useResizeObserver","ref","useState","dimensions","setDimensions","useEffect","observeTarget","current","resizeObserver","ResizeObserver","entries","observer","forEach","entry","index","contentRect","observe","unobserve","LevelItem","statistic","total","delta","spring","useSpring","from","config","stiff","Fragment","capitalize","h4","interpolate","formatNumber","Math","floor","size","verticalAlign","h1","data","useTrail","transform","opacity","trail","set","PRIMARY_STATISTICS","map","div","key","classnames","getStatistic","prevProps","currProps","equal","timeseries","timelineDate","date","refs","useRef","dates","useMemo","today","getIndiaYesterdayISO","pastDates","Object","keys","filter","cutOffDate","formatISO","subDays","parseIndiaDate","MINIGRAPH_LOOKBACK_DAYS","representation","T","length","margin","chartRight","chartBottom","xScale","d3","clamp","domain","range","dailyMin","dailyMax","max","domainMinMax","yScale","pathLength","svg","color","COLORS","line","curve","x","y","selectAll","join","enter","append","attr","this","getTotalLength","call","transition","delay","duration","update","attrTween","previous","interpolatePath","el","width","height","viewBox","preserveAspectRatio","FADE_IN","zIndex","position","pointerEvents","FADE_OUT","Tooltip","children","isTooltipVisible","setIsTooltipVisible","transitions","useTransition","leave","mass","tension","friction","onMouseEnter","onMouseLeave","item","element","document","createElement","elementIsNative","HTMLDetailsElement","support","_ref","slice","setAccessibilityAttributes","root","tagName","concat","getElementsByTagName","findElementsWithTagName","summary","details","findClosestElementWithTagName","setAttribute","hasAttribute","eventIsSignificant","event","defaultPrevented","ctrlKey","metaKey","shiftKey","isContentEditable","onTogglingTrigger","callback","addEventListener","which","parentNode","keyCode","preventDefault","triggerToggle","createEvent","initEvent","dispatchEvent","closest","head","insertAdjacentHTML","prototype","constructor","removeAttribute","open","getOwnPropertyDescriptor","defineProperties","get","value","name","_value","_this","wasOpen","result","querySelector","_this2","polyfillProperties","window","MutationObserver","mutations","mutation","addedNodes","documentElement","subtree","childList","attributeName","attributes","getAttribute","setTimeout","isOpen","MapVisualizerLoader","windowWidth","innerWidth","mapHeight","MAP_LEGEND_HEIGHT","speed","backgroundColor","cx","cy","r","MapLegend","mapScale","mapOption","svgRef","wrapperRef","getBoundingClientRect","MAP_OPTIONS","HOTSPOTS","D3_TRANSITION_DURATION","select","remove","text","domainMax","d","copy","tickSize","tickPadding","tickValues","tickFormat","g","title","marginTop","marginRight","marginBottom","marginLeft","ticks","ordinalWeights","tickAdjust","n","min","rangeRound","ramp","toDataURL","interpolator","assign","undefined","round","i","invertExtent","thresholds","quantiles","thresholdFormat","widthScale","reduce","a","b","xPos","w","acc","bandwidth","on","node","legend","PER_MILLION","TOTAL","Number","isInteger","ZONES","id","canvas","context","getContext","fillStyle","fillRect","colorInterpolator","confirmed","active","recovered","deceased","tested","getTotalStatistic","normalizer","MapVisualizer","currentMap","changeMap","regionHighlighted","setRegionHighlighted","isCountryLoaded","mapMeta","MAP_META","code","geoData","useSWR","geoDataFile","file","revalidateOnFocus","suspense","statisticMax","stateCodes","stateCode","includes","view","MAP_VIEWS","STATES","option","STATE_POPULATIONS_MIL","districts","values","districtData","statisticTotal","ZONE_COLORS","nice","topology","topojson","objects","graphObjectStates","graphObjectDistricts","projection","fitSize","path","features","f","district","properties","state","st_nm","obj","fillColor","STATE_CODES","stateData","zone","strokeColor","onceTouchedRegion","sel","districtName","stopPropagation","mapType","MAP_TYPES","STATE","capitalizeAll","circlesData","UNKNOWN_DISTRICT_KEY","sort","centroid","meshStates","COUNTRY","meshDistricts","DISTRICTS","STATE_NAMES","each","highlighted","appendChild","colorInterpolationFilters","type","anchor","setAnchor","mapStatistic","setMapStatistic","history","useHistory","mapExplorerRef","setCurrentMap","currentMapMeta","currentMapData","switchMap","useCallback","newMapMeta","topDistrict","ReactDOM","unstable_batchedUpdates","panelState","produce","draft","hoveredRegion","hoveredData","population_millions","springs","useSprings","MAP_STATISTICS","stickied","hidden","onClick","action","focused","h6","formatDate","meta","source","push","formatLastUpdated","fallback","clientWidth","handleTabClick","TT","chartType","isUniform","isLog","highlightedDate","setHighlightedDate","numTicksX","xAxis","xAxis2","yAxis","uniformScaleMin","uniformScaleMax","yScaleUniformLinear","yScaleUniformLog","mousemove","xm","invert","bisectDate","left","mouseout","TIMESERIES_STATISTICS","generateYScale","getStatisticDelta","deltaToday","yesterday","TIMESERIES_OPTIONS","MONTH","timeseriesOption","setTimeseriesOption","useLocalStorage","setChartType","setIsUniform","setIsLog","explorerElement","isVisible","useIsVisible","once","TWO_WEEKS","sub","weeks","months","display","TIMESERIES_CHART_TYPES","ctype","htmlFor","checked","aria-label","onChange","disabled","selected","_extends","arguments","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Compass","forwardRef","_ref$color","_ref$size","rest","xmlns","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","points","propTypes","PropTypes","string","oneOfType","number","displayName","_interopRequireDefault","require","defineProperty","exports","_objectSpread2","_extends2","_objectWithoutProperties2","_react","_propTypes","_classnames","_styledComponents","_sx","_constants","_theme","_Box","Wrapper","li","withConfig","componentId","BreadcrumbBase","theme","classes","wrappedChildren","Children","child","as","my","pl","Breadcrumb","COMMON","FLEX","Item","attrs","activeClassName","to","defaultProps","elementType","bool","_default","_Button","_Details","_DropdownStyles","StyledDetails","Dropdown","overlay","Button","_ref2","Caret","Menu","ul","direction","oneOf","_interopRequireWildcard","_slicedToArray2","Details","_ref$render","render","getRenderer","userOpen","onClickOutside","onToggle","_ref$defaultOpen","defaultOpen","_useState","_useState2","internalOpen","setInternalOpen","onClickOutsideInternal","removeEventListener","e","func","object","ne","s","sw","se","getDeltaStatistic","NUM_BARS_STATEPAGE","paddingInner","roundedBar","textSelection","val","prevVal","abs","h","sign","StateMetaCard","formula","description","StateMeta","totalConfirmed","indiaDate","format","getIndiaDate","prevWeekDate","prevWeekConfirmed","confirmedPerMillion","testPerMillion","totalConfirmedPerMillion","recoveryPercent","activePercent","deathPercent","growthRate","STATE_POPULATIONS","Smile","x1","y1","x2","y2","Breadcrumbs","selectedStateCode","useParams","toUpperCase","stateName","useMeasure","mapSwitcher","showAllDistricts","setShowAllDistricts","useEffectOnce","anime","targets","translateX","easing","fetcher","revalidateOnMount","refreshInterval","gridRowCount","gridColumnCount","districtCount","ceil","Helmet","content","last_updated","gridTemplateRows","districtNameA","districtNameB","districtA","districtB","handleSort","every"],"mappings":"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","file":"static/js/State.1bb30dda.chunk.js","sourcesContent":["import React from 'react';\nimport * as Icon from 'react-feather';\nimport {useTranslation} from 'react-i18next';\n\nfunction Footer(props) {\n  const {t} = useTranslation();\n\n  return (\n    <footer className=\"fadeInUp\" style={{animationDelay: '2s'}}>\n      <h5>{t('We stand with everyone fighting on the frontlines')}</h5>\n\n      <div className=\"link\">\n        <a\n          href=\"https://github.com/covid19india\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          covid19india\n        </a>\n      </div>\n\n      <a\n        href=\"https://github.com/covid19india/covid19india-react\"\n        className=\"button github\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <Icon.GitHub />\n        <span>{t('Open Sourced on GitHub')}</span>\n      </a>\n\n      <a\n        className=\"button excel\"\n        href=\"http://patientdb.covid19india.org\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <Icon.Database />\n        <span>{t('Crowdsourced Patient Database')}</span>\n      </a>\n\n      <a\n        href=\"https://twitter.com/covid19indiaorg\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"button twitter\"\n        style={{justifyContent: 'center'}}\n      >\n        <Icon.Twitter />\n        <span>{t('View updates on Twitter')}</span>\n      </a>\n\n      <a\n        href=\"https://bit.ly/covid19crowd\"\n        className=\"button telegram\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <Icon.MessageCircle />\n        <span>{t('Join Telegram to Collaborate!')}</span>\n      </a>\n    </footer>\n  );\n}\n\nexport default React.memo(Footer);\n","import {ResizeObserver} from '@juggle/resize-observer';\nimport {useState, useEffect} from 'react';\n\nexport const useResizeObserver = (ref) => {\n  const [dimensions, setDimensions] = useState(null);\n  useEffect(() => {\n    const observeTarget = ref.current;\n    const resizeObserver = new ResizeObserver((entries, observer) => {\n      entries.forEach((entry, index) => {\n        setDimensions(entry.contentRect);\n      });\n    });\n    resizeObserver.observe(observeTarget);\n    return () => {\n      resizeObserver.unobserve(observeTarget);\n    };\n  }, [ref]);\n  return dimensions;\n};\n\nexport default useResizeObserver;\n","import {PRIMARY_STATISTICS} from '../constants';\nimport {capitalize, formatNumber, getStatistic} from '../utils/commonfunctions';\n\nimport {HeartFillIcon} from '@primer/octicons-v2-react';\nimport classnames from 'classnames';\nimport equal from 'fast-deep-equal';\nimport React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {animated, useSpring, config, useTrail} from 'react-spring';\n\nfunction PureLevelItem({statistic, total, delta}) {\n  const {t} = useTranslation();\n  const spring = useSpring(\n    {\n      total: total,\n      delta: delta,\n      from: {total: total, delta: delta},\n    },\n    config.stiff\n  );\n\n  return (\n    <React.Fragment>\n      <h5>{t(capitalize(statistic))}</h5>\n      <animated.h4>\n        {statistic !== 'active' ? (\n          delta > 0 ? (\n            spring.delta.interpolate(\n              (delta) => `+${formatNumber(Math.floor(delta))}`\n            )\n          ) : (\n            <HeartFillIcon size={9} verticalAlign={2} />\n          )\n        ) : (\n          '\\u00A0'\n        )}\n      </animated.h4>\n      <animated.h1>\n        {spring.total.interpolate((total) => formatNumber(Math.floor(total)))}\n      </animated.h1>\n    </React.Fragment>\n  );\n}\n\nconst LevelItem = React.memo(PureLevelItem);\n\nfunction Level({data}) {\n  const [trail, set] = useTrail(4, () => ({\n    transform: 'translate3d(0, 20px, 0)',\n    opacity: 0,\n    config: config.stiff,\n  }));\n\n  set({transform: 'translate3d(0, 0px, 0)', opacity: 1});\n\n  return (\n    <div className=\"Level\">\n      {PRIMARY_STATISTICS.map((statistic, index) => (\n        <animated.div\n          key={index}\n          className={classnames('level-item', `is-${statistic}`)}\n          style={trail[index]}\n        >\n          <LevelItem\n            {...{statistic}}\n            total={getStatistic(data, 'total', statistic)}\n            delta={getStatistic(data, 'delta', statistic)}\n          />\n        </animated.div>\n      ))}\n    </div>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (\n    !equal(\n      getStatistic(prevProps.data, 'total', 'active'),\n      getStatistic(currProps.data, 'total', 'active')\n    )\n  ) {\n    return false;\n  }\n  return true;\n};\n\nexport default React.memo(Level, isEqual);\n","import {\n  COLORS,\n  MINIGRAPH_LOOKBACK_DAYS,\n  PRIMARY_STATISTICS,\n} from '../constants';\nimport {\n  getStatistic,\n  getIndiaYesterdayISO,\n  parseIndiaDate,\n} from '../utils/commonfunctions';\n\nimport classnames from 'classnames';\nimport * as d3 from 'd3';\nimport {interpolatePath} from 'd3-interpolate-path';\nimport {formatISO, subDays} from 'date-fns';\nimport equal from 'fast-deep-equal';\nimport React, {useEffect, useRef, useMemo} from 'react';\n\nfunction Minigraph({timeseries, date: timelineDate}) {\n  const refs = useRef([]);\n\n  const dates = useMemo(() => {\n    const today = timelineDate || getIndiaYesterdayISO();\n    const pastDates = Object.keys(timeseries || {}).filter(\n      (date) => date <= today\n    );\n    const cutOffDate = formatISO(\n      subDays(parseIndiaDate(today), MINIGRAPH_LOOKBACK_DAYS),\n      {representation: 'date'}\n    );\n    return pastDates.filter((date) => date >= cutOffDate);\n  }, [timeseries, timelineDate]);\n\n  useEffect(() => {\n    const T = dates.length;\n\n    const margin = {top: 10, right: 5, bottom: 20, left: 5};\n    const chartRight = 100 - margin.right;\n    const chartBottom = 100 - margin.bottom;\n\n    const xScale = d3\n      .scaleTime()\n      .clamp(true)\n      .domain([parseIndiaDate(dates[0]), parseIndiaDate(dates[T - 1])])\n      .range([margin.left, chartRight]);\n\n    const dailyMin = d3.min(dates, (date) =>\n      getStatistic(timeseries[date], 'delta', 'active')\n    );\n\n    const dailyMax = d3.max(dates, (date) =>\n      Math.max(\n        getStatistic(timeseries[date], 'delta', 'confirmed'),\n        getStatistic(timeseries[date], 'delta', 'recovered'),\n        getStatistic(timeseries[date], 'delta', 'deceased')\n      )\n    );\n\n    const domainMinMax = Math.max(-dailyMin, dailyMax);\n\n    const yScale = d3\n      .scaleLinear()\n      .clamp(true)\n      .domain([-domainMinMax, domainMinMax])\n      .range([chartBottom, margin.top]);\n\n    refs.current.forEach((ref, index) => {\n      const svg = d3.select(ref);\n      const statistic = PRIMARY_STATISTICS[index];\n      const color = COLORS[statistic];\n\n      const line = d3\n        .line()\n        .curve(d3.curveMonotoneX)\n        .x((date) => xScale(parseIndiaDate(date)))\n        .y((date) =>\n          yScale(getStatistic(timeseries[date], 'delta', statistic))\n        );\n\n      let pathLength;\n      svg\n        .selectAll('path')\n        .data(T ? [dates] : [])\n        .join(\n          (enter) =>\n            enter\n              .append('path')\n              .attr('fill', 'none')\n              .attr('stroke', color + '99')\n              .attr('stroke-width', 2.5)\n              .attr('d', line)\n              .attr('stroke-dasharray', function () {\n                return (pathLength = this.getTotalLength());\n              })\n              .call((enter) =>\n                enter\n                  .attr('stroke-dashoffset', pathLength)\n                  .transition()\n                  .delay(100)\n                  .duration(2500)\n                  .attr('stroke-dashoffset', 0)\n              ),\n          (update) =>\n            update\n              .attr('stroke-dasharray', null)\n              .transition()\n              .duration(500)\n              .attrTween('d', function (date) {\n                const previous = d3.select(this).attr('d');\n                const current = line(date);\n                return interpolatePath(previous, current);\n              })\n        );\n\n      svg\n        .selectAll('circle')\n        .data(T ? [dates[T - 1]] : [])\n        .join(\n          (enter) =>\n            enter\n              .append('circle')\n              .attr('fill', color)\n              .attr('r', 2.5)\n              .attr('cx', (date) => xScale(parseIndiaDate(date)))\n              .attr('cy', (date) =>\n                yScale(getStatistic(timeseries[date], 'delta', statistic))\n              )\n              .style('opacity', 0)\n              .call((enter) =>\n                enter\n                  .transition()\n                  .delay(2100)\n                  .duration(500)\n                  .style('opacity', 1)\n                  .attr('cx', (date) => xScale(parseIndiaDate(date)))\n                  .attr('cy', (date) =>\n                    yScale(getStatistic(timeseries[date], 'delta', statistic))\n                  )\n              ),\n          (update) =>\n            update\n              .transition()\n              .duration(500)\n              .attr('cx', (date) => xScale(parseIndiaDate(date)))\n              .attr('cy', (date) =>\n                yScale(getStatistic(timeseries[date], 'delta', statistic))\n              )\n        );\n    });\n  }, [dates, timeseries]);\n\n  return (\n    <div className=\"Minigraph\">\n      {PRIMARY_STATISTICS.map((statistic, index) => (\n        <div key={statistic} className={classnames('svg-parent')}>\n          <svg\n            ref={(el) => {\n              refs.current[index] = el;\n            }}\n            width=\"100\"\n            height=\"75\"\n            viewBox=\"0 0 100 75\"\n            preserveAspectRatio=\"xMidYMid meet\"\n          />\n        </div>\n      ))}\n    </div>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (!equal(currProps.date, prevProps.date)) {\n    return false;\n  }\n  return true;\n};\n\nexport default React.memo(Minigraph, isEqual);\n","import React, {useState} from 'react';\nimport {useTransition, animated} from 'react-spring';\n\nconst FADE_IN = {\n  opacity: 1,\n  transform: 'translate3d(0, 0px, 0)',\n  zIndex: 999,\n  position: 'absolute',\n  pointerEvents: 'none',\n};\n\nconst FADE_OUT = {\n  opacity: 0,\n  transform: 'translate3d(0, 2px, 0)',\n  zIndex: 999,\n  position: 'absolute',\n  pointerEvents: 'none',\n};\n\nconst Tooltip = ({data, children}) => {\n  const [isTooltipVisible, setIsTooltipVisible] = useState(false);\n\n  const transitions = useTransition(isTooltipVisible, null, {\n    from: FADE_OUT,\n    enter: FADE_IN,\n    leave: FADE_OUT,\n    config: {\n      mass: 1,\n      tension: 210,\n      friction: 20,\n    },\n  });\n\n  return (\n    <span\n      className=\"Tooltip\"\n      style={{position: 'relative'}}\n      onMouseEnter={() => {\n        setIsTooltipVisible(true);\n      }}\n      onMouseLeave={() => {\n        setIsTooltipVisible(false);\n      }}\n    >\n      {children}\n\n      {transitions.map(({item, key, props}) =>\n        item ? (\n          <animated.div style={props}>\n            <div className=\"message\">\n              <p>{data}</p>\n            </div>\n          </animated.div>\n        ) : (\n          <animated.div></animated.div>\n        )\n      )}\n    </span>\n  );\n};\n\nexport default Tooltip;\n","/*\nDetails Element Polyfill 2.4.0\nCopyright  2019 Javan Makhmali\n */\n(function() {\n  \"use strict\";\n  var element = document.createElement(\"details\");\n  var elementIsNative = typeof HTMLDetailsElement != \"undefined\" && element instanceof HTMLDetailsElement;\n  var support = {\n    open: \"open\" in element || elementIsNative,\n    toggle: \"ontoggle\" in element\n  };\n  var styles = '\\ndetails, summary {\\n  display: block;\\n}\\ndetails:not([open]) > *:not(summary) {\\n  display: none;\\n}\\nsummary::before {\\n  content: \"\";\\n  padding-right: 0.3rem;\\n  font-size: 0.6rem;\\n  cursor: default;\\n}\\n[open] > summary::before {\\n  content: \"\";\\n}\\n';\n  var _ref = [], forEach = _ref.forEach, slice = _ref.slice;\n  if (!support.open) {\n    polyfillStyles();\n    polyfillProperties();\n    polyfillToggle();\n    polyfillAccessibility();\n  }\n  if (support.open && !support.toggle) {\n    polyfillToggleEvent();\n  }\n  function polyfillStyles() {\n    document.head.insertAdjacentHTML(\"afterbegin\", \"<style>\" + styles + \"</style>\");\n  }\n  function polyfillProperties() {\n    var prototype = document.createElement(\"details\").constructor.prototype;\n    var setAttribute = prototype.setAttribute, removeAttribute = prototype.removeAttribute;\n    var open = Object.getOwnPropertyDescriptor(prototype, \"open\");\n    Object.defineProperties(prototype, {\n      open: {\n        get: function get() {\n          if (this.tagName == \"DETAILS\") {\n            return this.hasAttribute(\"open\");\n          } else {\n            if (open && open.get) {\n              return open.get.call(this);\n            }\n          }\n        },\n        set: function set(value) {\n          if (this.tagName == \"DETAILS\") {\n            return value ? this.setAttribute(\"open\", \"\") : this.removeAttribute(\"open\");\n          } else {\n            if (open && open.set) {\n              return open.set.call(this, value);\n            }\n          }\n        }\n      },\n      setAttribute: {\n        value: function value(name, _value) {\n          var _this = this;\n          var call = function call() {\n            return setAttribute.call(_this, name, _value);\n          };\n          if (name == \"open\" && this.tagName == \"DETAILS\") {\n            var wasOpen = this.hasAttribute(\"open\");\n            var result = call();\n            if (!wasOpen) {\n              var summary = this.querySelector(\"summary\");\n              if (summary) summary.setAttribute(\"aria-expanded\", true);\n              triggerToggle(this);\n            }\n            return result;\n          }\n          return call();\n        }\n      },\n      removeAttribute: {\n        value: function value(name) {\n          var _this2 = this;\n          var call = function call() {\n            return removeAttribute.call(_this2, name);\n          };\n          if (name == \"open\" && this.tagName == \"DETAILS\") {\n            var wasOpen = this.hasAttribute(\"open\");\n            var result = call();\n            if (wasOpen) {\n              var summary = this.querySelector(\"summary\");\n              if (summary) summary.setAttribute(\"aria-expanded\", false);\n              triggerToggle(this);\n            }\n            return result;\n          }\n          return call();\n        }\n      }\n    });\n  }\n  function polyfillToggle() {\n    onTogglingTrigger(function(element) {\n      element.hasAttribute(\"open\") ? element.removeAttribute(\"open\") : element.setAttribute(\"open\", \"\");\n    });\n  }\n  function polyfillToggleEvent() {\n    if (window.MutationObserver) {\n      new MutationObserver(function(mutations) {\n        forEach.call(mutations, function(mutation) {\n          var target = mutation.target, attributeName = mutation.attributeName;\n          if (target.tagName == \"DETAILS\" && attributeName == \"open\") {\n            triggerToggle(target);\n          }\n        });\n      }).observe(document.documentElement, {\n        attributes: true,\n        subtree: true\n      });\n    } else {\n      onTogglingTrigger(function(element) {\n        var wasOpen = element.getAttribute(\"open\");\n        setTimeout(function() {\n          var isOpen = element.getAttribute(\"open\");\n          if (wasOpen != isOpen) {\n            triggerToggle(element);\n          }\n        }, 1);\n      });\n    }\n  }\n  function polyfillAccessibility() {\n    setAccessibilityAttributes(document);\n    if (window.MutationObserver) {\n      new MutationObserver(function(mutations) {\n        forEach.call(mutations, function(mutation) {\n          forEach.call(mutation.addedNodes, setAccessibilityAttributes);\n        });\n      }).observe(document.documentElement, {\n        subtree: true,\n        childList: true\n      });\n    } else {\n      document.addEventListener(\"DOMNodeInserted\", function(event) {\n        setAccessibilityAttributes(event.target);\n      });\n    }\n  }\n  function setAccessibilityAttributes(root) {\n    findElementsWithTagName(root, \"SUMMARY\").forEach(function(summary) {\n      var details = findClosestElementWithTagName(summary, \"DETAILS\");\n      summary.setAttribute(\"aria-expanded\", details.hasAttribute(\"open\"));\n      if (!summary.hasAttribute(\"tabindex\")) summary.setAttribute(\"tabindex\", \"0\");\n      if (!summary.hasAttribute(\"role\")) summary.setAttribute(\"role\", \"button\");\n    });\n  }\n  function eventIsSignificant(event) {\n    return !(event.defaultPrevented || event.ctrlKey || event.metaKey || event.shiftKey || event.target.isContentEditable);\n  }\n  function onTogglingTrigger(callback) {\n    addEventListener(\"click\", function(event) {\n      if (eventIsSignificant(event)) {\n        if (event.which <= 1) {\n          var element = findClosestElementWithTagName(event.target, \"SUMMARY\");\n          if (element && element.parentNode && element.parentNode.tagName == \"DETAILS\") {\n            callback(element.parentNode);\n          }\n        }\n      }\n    }, false);\n    addEventListener(\"keydown\", function(event) {\n      if (eventIsSignificant(event)) {\n        if (event.keyCode == 13 || event.keyCode == 32) {\n          var element = findClosestElementWithTagName(event.target, \"SUMMARY\");\n          if (element && element.parentNode && element.parentNode.tagName == \"DETAILS\") {\n            callback(element.parentNode);\n            event.preventDefault();\n          }\n        }\n      }\n    }, false);\n  }\n  function triggerToggle(element) {\n    var event = document.createEvent(\"Event\");\n    event.initEvent(\"toggle\", false, false);\n    element.dispatchEvent(event);\n  }\n  function findElementsWithTagName(root, tagName) {\n    return (root.tagName == tagName ? [ root ] : []).concat(typeof root.getElementsByTagName == \"function\" ? slice.call(root.getElementsByTagName(tagName)) : []);\n  }\n  function findClosestElementWithTagName(element, tagName) {\n    if (typeof element.closest == \"function\") {\n      return element.closest(tagName);\n    } else {\n      while (element) {\n        if (element.tagName == tagName) {\n          return element;\n        } else {\n          element = element.parentNode;\n        }\n      }\n    }\n  }\n})();\n","import {COLORS, MAP_LEGEND_HEIGHT} from '../../constants';\n\nimport React from 'react';\nimport ContentLoader from 'react-content-loader';\n\n// Margins as declared in CSS\nexport const MAP_BUFFER_MARGINS = 42;\nexport const INDIA_ASPECT_RATIO = 0.885;\n\nconst MapVisualizerLoader = ({width, statistic}) => {\n  const windowWidth = window.innerWidth;\n  // Default width for loader\n  if (!width) width = windowWidth > 769 ? 480 : windowWidth;\n  // From CSS\n  const scalingFactor = windowWidth > 769 ? 0.9 : 1;\n  const mapHeight = (scalingFactor * width) / INDIA_ASPECT_RATIO;\n  const height = MAP_BUFFER_MARGINS + MAP_LEGEND_HEIGHT + mapHeight;\n  return (\n    <ContentLoader\n      viewBox={`0 0 ${width} ${height}`}\n      height={height}\n      width={width}\n      speed={2}\n      backgroundColor={COLORS[statistic]}\n    >\n      <circle cx={0.4 * width} cy={height / 2} r=\"5\" />\n      <circle cx={0.5 * width} cy={height / 2} r=\"5\" />\n      <circle cx={0.6 * width} cy={height / 2} r=\"5\" />\n    </ContentLoader>\n  );\n};\n\nexport default MapVisualizerLoader;\n","import {\n  D3_TRANSITION_DURATION,\n  MAP_LEGEND_HEIGHT,\n  MAP_OPTIONS,\n  // ZONE_COLORS,\n} from '../constants';\nimport {useResizeObserver} from '../hooks/useresizeobserver';\nimport {capitalize, formatNumber} from '../utils/commonfunctions';\n\nimport * as d3 from 'd3';\nimport React, {useEffect, useRef} from 'react';\nimport {useTranslation} from 'react-i18next';\n\nfunction MapLegend({data, mapScale, mapOption, statistic}) {\n  const {t} = useTranslation();\n\n  const svgRef = useRef(null);\n  const wrapperRef = useRef();\n  const dimensions = useResizeObserver(wrapperRef);\n\n  // const totalZones = useMemo(() => {\n  //   return Object.values(data).reduce(\n  //     (counts, stateData) => {\n  //       if (stateData?.districts) {\n  //         Object.values(stateData.districts).forEach((districtData) => {\n  //           if (districtData?.zone?.status)\n  //             counts[districtData.zone.status] += 1;\n  //         });\n  //       }\n  //       return counts;\n  //     },\n  //     Object.keys(ZONE_COLORS).reduce((count, zone) => {\n  //       count[zone] = 0;\n  //       return count;\n  //     }, {})\n  //   );\n  // }, [data]);\n\n  useEffect(() => {\n    const svg = d3.select(svgRef.current);\n    let {width, height} =\n      dimensions || wrapperRef.current.getBoundingClientRect();\n\n    if (!width || !height)\n      ({width, height} = wrapperRef.current.getBoundingClientRect());\n\n    // if (mapOption === MAP_OPTIONS.ZONES) {\n    //   svg.call(() =>\n    //     legend({\n    //       svg: svg,\n    //       color: mapScale,\n    //       width: width,\n    //       height: height,\n    //       tickValues: [],\n    //       marginLeft: 2,\n    //       marginRight: 20,\n    //       ordinalWeights: Object.values(totalZones),\n    //     })\n    //   );\n    // }\n    if (mapOption === MAP_OPTIONS.HOTSPOTS) {\n      const t = svg.transition().duration(D3_TRANSITION_DURATION);\n      svg\n        .select('.ramp')\n        .transition(t)\n        .attr('opacity', 0)\n        .attr('xlink:href', null);\n\n      svg\n        .select('.bars')\n        .selectAll('rect')\n        .transition(t)\n        .attr('opacity', 0)\n        .remove();\n      svg.selectAll('.axis > *:not(.axistext)').remove();\n      svg.select('.axistext').text('');\n\n      const domainMax = mapScale.domain()[1];\n\n      const legend = svg\n        .select('.circles')\n        .attr('transform', `translate(48,40)`)\n        .attr('text-anchor', 'middle');\n\n      legend\n        .selectAll('circle')\n        .data([domainMax / 10, (domainMax * 2) / 5, domainMax])\n        .join('circle')\n        .attr('fill', 'none')\n        .attr('stroke', '#ccc')\n        .transition(t)\n        .attr('cy', (d) => -mapScale(d))\n        .attr('r', mapScale);\n\n      const yScale = mapScale.copy().range([0, -2 * mapScale(domainMax)]);\n\n      svg\n        .select('.circleAxis')\n        .attr('transform', `translate(48,50)`)\n        .transition(t)\n        .call(\n          d3\n            .axisRight(yScale)\n            .tickSize(0)\n            .tickPadding(0)\n            .tickValues([domainMax / 10, (domainMax * 2) / 5, domainMax])\n            .tickFormat(d3.format('0~s'))\n        )\n        .selectAll('.tick text')\n        .style('text-anchor', 'middle');\n\n      svg.select('.circleAxis').call((g) => g.select('.domain').remove());\n    } else {\n      svg.call(() =>\n        legend({\n          svg: svg,\n          color: mapScale,\n          title:\n            mapOption === MAP_OPTIONS.PER_MILLION\n              ? `${t(capitalize(statistic))} ${t('cases per million')}`\n              : `${t(capitalize(statistic))} ${t('cases')}`,\n          width: width,\n          height: height,\n          ticks: 5,\n          tickFormat: function (d, i, n) {\n            if (mapOption === MAP_OPTIONS.TOTAL && !Number.isInteger(d)) return;\n            if (i === n.length - 1) return formatNumber(d) + '+';\n            return formatNumber(d);\n          },\n          marginLeft: 2,\n          marginRight: 20,\n        })\n      );\n    }\n    svg.attr('class', mapOption === MAP_OPTIONS.ZONES ? 'zone' : '');\n  }, [t, dimensions, mapScale, mapOption, statistic]); // totalZones\n\n  return (\n    <div\n      className=\"svg-parent maplegend\"\n      style={{height: MAP_LEGEND_HEIGHT}}\n      ref={wrapperRef}\n    >\n      <svg id=\"legend\" preserveAspectRatio=\"xMidYMid meet\" ref={svgRef}>\n        <image className=\"ramp\" />\n        <g className=\"bars\"></g>\n        <g className=\"circles\"></g>\n        <g className=\"circleAxis\"></g>\n        <g className=\"axis\">\n          <text className=\"axistext\" />\n        </g>\n      </svg>\n      <canvas\n        className=\"color-scale\"\n        style={{position: 'absolute', height: 0}}\n      />\n    </div>\n  );\n}\n\nexport default MapLegend;\n\nfunction legend({\n  svg,\n  color,\n  title,\n  tickSize = 6,\n  width = 320,\n  height = 44 + tickSize,\n  marginTop = 18,\n  marginRight = 0,\n  marginBottom = 16 + tickSize,\n  marginLeft = 0,\n  ticks = width / 64,\n  tickFormat,\n  tickValues,\n  ordinalWeights,\n} = {}) {\n  svg.selectAll('.circles > *').remove();\n  svg.selectAll('.circleAxis > *').remove();\n  const t = svg.transition().duration(D3_TRANSITION_DURATION);\n\n  let tickAdjust = (g) => {\n    const ticks = g.selectAll('.tick line');\n    ticks.attr('y1', marginTop + marginBottom - height);\n    // d3.select(ticks.nodes()[ticks.size() - 1]).remove();\n  };\n  let x;\n\n  // Continuous\n  if (color.interpolate) {\n    const n = Math.min(color.domain().length, color.range().length);\n\n    x = color\n      .copy()\n      .rangeRound(\n        d3.quantize(d3.interpolate(marginLeft, width - marginRight), n)\n      );\n\n    svg\n      .select('.ramp')\n      .attr('class', 'ramp')\n      .attr('x', marginLeft)\n      .attr('y', marginTop)\n      .attr('width', width - marginLeft - marginRight)\n      .attr('height', height - marginTop - marginBottom)\n      .attr('preserveAspectRatio', 'none')\n      .attr(\n        'xlink:href',\n        ramp(\n          color.copy().domain(d3.quantize(d3.interpolate(0, 1), n))\n        ).toDataURL()\n      );\n  }\n\n  // Sequential\n  else if (color.interpolator) {\n    svg\n      .select('.bars')\n      .selectAll('rect')\n      .transition(t)\n      .attr('opacity', 0)\n      .remove();\n\n    x = Object.assign(\n      color\n        .copy()\n        .interpolator(d3.interpolateRound(marginLeft, width - marginRight)),\n      {\n        range() {\n          return [marginLeft, width - marginRight];\n        },\n      }\n    );\n\n    svg\n      .select('.ramp')\n      .attr('class', 'ramp')\n      .attr('x', marginLeft)\n      .attr('y', marginTop)\n      .attr('width', width - marginLeft - marginRight)\n      .attr('height', height - marginTop - marginBottom)\n      .attr('preserveAspectRatio', 'none')\n      .attr('xlink:href', ramp(color.interpolator()).toDataURL())\n      .transition(t)\n      .attr('opacity', 1);\n\n    // scaleSequentialQuantile doesnt implement ticks or tickFormat.\n    if (!x.ticks) {\n      if (tickValues === undefined) {\n        const n = Math.round(ticks + 1);\n        tickValues = d3\n          .range(n)\n          .map((i) => d3.quantile(color.domain(), i / (n - 1)));\n      }\n      if (typeof tickFormat !== 'function') {\n        tickFormat = d3.format(tickFormat === undefined ? ',f' : tickFormat);\n      }\n    }\n  }\n\n  // Threshold\n  else if (color.invertExtent) {\n    const thresholds = color.thresholds\n      ? color.thresholds() // scaleQuantize\n      : color.quantiles\n      ? color.quantiles() // scaleQuantile\n      : color.domain(); // scaleThreshold\n\n    const thresholdFormat =\n      tickFormat === undefined\n        ? (d) => d\n        : typeof tickFormat === 'string'\n        ? d3.format(tickFormat)\n        : tickFormat;\n\n    x = d3\n      .scaleLinear()\n      .domain([-1, color.range().length - 1])\n      .rangeRound([marginLeft, width - marginRight]);\n\n    svg\n      .append('g')\n      .selectAll('rect')\n      .data(color.range())\n      .join('rect')\n      .attr('x', (d, i) => x(i - 1))\n      .attr('y', marginTop)\n      .attr('width', (d, i) => x(i) - x(i - 1))\n      .attr('height', height - marginTop - marginBottom)\n      .attr('fill', (d) => d);\n\n    tickValues = d3.range(-1, thresholds.length);\n    tickFormat = (i) => {\n      if (i === -1) return thresholdFormat(1);\n      else if (i === thresholds.length - 1) return;\n      else if (i === thresholds.length - 2)\n        return thresholdFormat(thresholds[i] + '+', i);\n      return thresholdFormat(thresholds[i], i);\n    };\n  }\n\n  // Ordinal\n  else {\n    svg\n      .select('.ramp')\n      .transition(t)\n      .attr('opacity', 0)\n      .attr('xlink:href', null);\n    if (!ordinalWeights) {\n      x = d3\n        .scaleBand()\n        .domain(color.domain())\n        .rangeRound([marginLeft, width - marginRight]);\n      svg\n        .selectAll('rect')\n        .data(color.domain())\n        .join('rect')\n        .attr('x', x)\n        .attr('y', marginTop)\n        .attr('width', Math.max(0, x.bandwidth() - 1))\n        .attr('height', height - marginTop - marginBottom)\n        .attr('fill', color);\n    } else {\n      const widthScale = d3\n        .scaleLinear()\n        .domain([0, ordinalWeights.reduce((a, b) => a + b)])\n        .rangeRound([0, width - marginLeft - marginRight]);\n\n      const xPos = ordinalWeights.map((w, i) =>\n        ordinalWeights\n          .slice(0, i)\n          .reduce((acc, w) => acc + widthScale(w), marginLeft)\n      );\n\n      x = d3.scaleOrdinal().domain(color.domain()).range(xPos);\n\n      svg\n        .select('.bars')\n        .selectAll('rect')\n        .data(color.domain())\n        .join((enter) =>\n          enter\n            .append('rect')\n            .attr('x', x)\n            .attr('width', (d, i) => widthScale(ordinalWeights[i]))\n        )\n        .attr('y', marginTop)\n        .attr('height', height - marginTop - marginBottom)\n        .attr('fill', color)\n        .transition(t)\n        .attr('x', x)\n        .attr('width', (d, i) => widthScale(ordinalWeights[i]))\n        .attr('opacity', 1);\n    }\n\n    tickAdjust = () => {};\n  }\n\n  svg\n    .select('.axis')\n    .attr('transform', `translate(0,${height - marginBottom})`)\n    .transition(t)\n    .attr('class', 'axis')\n    .call(\n      d3\n        .axisBottom(x)\n        .ticks(ticks, typeof tickFormat === 'string' ? tickFormat : undefined)\n        .tickFormat(typeof tickFormat === 'function' ? tickFormat : undefined)\n        .tickSize(tickSize)\n        .tickValues(tickValues)\n    )\n    .on('start', () => {\n      svg.call(tickAdjust).call((svg) => svg.select('.domain').remove());\n    })\n    .call((g) =>\n      g\n        .select('.axistext')\n        .attr('class', 'axistext')\n        .attr('x', marginLeft)\n        .attr('y', marginTop + marginBottom - height - 6)\n        .attr('fill', 'currentColor')\n        .attr('text-anchor', 'start')\n        .attr('font-weight', 'bold')\n        .text(title)\n    );\n\n  return svg.node();\n}\n\nfunction ramp(color, n = 256) {\n  // const canvas = document.createElement('canvas');\n  const canvas = d3.select('.color-scale').node();\n  const context = ((canvas.width = n), (canvas.height = 1), canvas).getContext(\n    '2d'\n  );\n  for (let i = 0; i < n; ++i) {\n    context.fillStyle = color(i / (n - 1));\n    context.fillRect(i, 0, 1, 1);\n  }\n  return canvas;\n}\n","import MapLegend from './maplegend';\n\nimport {\n  COLORS,\n  D3_TRANSITION_DURATION,\n  MAP_META,\n  MAP_TYPES,\n  MAP_OPTIONS,\n  MAP_VIEWS,\n  STATE_CODES,\n  STATE_NAMES,\n  STATE_POPULATIONS_MIL,\n  UNKNOWN_DISTRICT_KEY,\n  ZONE_COLORS,\n} from '../constants';\nimport {\n  capitalizeAll,\n  formatNumber,\n  getStatistic,\n} from '../utils/commonfunctions';\n\nimport * as d3 from 'd3';\nimport React, {useEffect, useMemo, useRef} from 'react';\nimport * as Icon from 'react-feather';\nimport {useTranslation} from 'react-i18next';\nimport useSWR from 'swr';\nimport * as topojson from 'topojson';\n\nconst [width, height] = [432, 488];\n\nconst colorInterpolator = {\n  confirmed: (t) => d3.interpolateReds(t * 0.85),\n  active: (t) => d3.interpolateBlues(t * 0.85),\n  recovered: (t) => d3.interpolateGreens(t * 0.85),\n  deceased: (t) => d3.interpolateGreys(t * 0.85),\n  tested: (t) => d3.interpolatePurples(t * 0.85),\n};\n\nconst getTotalStatistic = (data, statistic, normalizer = 1) => {\n  return getStatistic(data, 'total', statistic, normalizer);\n};\n\nfunction MapVisualizer({\n  currentMap,\n  data,\n  changeMap,\n  regionHighlighted,\n  setRegionHighlighted,\n  statistic,\n  isCountryLoaded,\n}) {\n  const {t} = useTranslation();\n  const svgRef = useRef(null);\n\n  const mapMeta = MAP_META[currentMap.code];\n\n  const {data: geoData} = useSWR(\n    mapMeta.geoDataFile,\n    async (file) => {\n      return await d3.json(file);\n    },\n    {revalidateOnFocus: false, suspense: true}\n  );\n\n  const statisticMax = useMemo(() => {\n    const stateCodes = Object.keys(data).filter(\n      (stateCode) =>\n        stateCode !== 'TT' && Object.keys(MAP_META).includes(stateCode)\n    );\n    return currentMap.view === MAP_VIEWS.STATES\n      ? d3.max(stateCodes, (stateCode) =>\n          getTotalStatistic(\n            data[stateCode],\n            statistic,\n            currentMap.option === MAP_OPTIONS.PER_MILLION\n              ? STATE_POPULATIONS_MIL[stateCode]\n              : 1\n          )\n        )\n      : d3.max(stateCodes, (stateCode) =>\n          data[stateCode]?.districts\n            ? d3.max(Object.values(data[stateCode].districts), (districtData) =>\n                getTotalStatistic(districtData, statistic)\n              )\n            : 0\n        );\n  }, [data, currentMap.option, currentMap.view, statistic]);\n\n  const statisticTotal = useMemo(() => {\n    return getTotalStatistic(\n      data[currentMap.code],\n      statistic,\n      currentMap.option === MAP_OPTIONS.PER_MILLION\n        ? STATE_POPULATIONS_MIL[currentMap.code]\n        : 1\n    );\n  }, [data, currentMap.code, currentMap.option, statistic]);\n\n  const mapScale = useMemo(() => {\n    if (currentMap.option === MAP_OPTIONS.ZONES) {\n      return d3.scaleOrdinal(\n        Object.keys(ZONE_COLORS),\n        Object.values(ZONE_COLORS)\n      );\n    } else if (currentMap.option === MAP_OPTIONS.HOTSPOTS) {\n      return d3\n        .scaleSqrt([0, Math.max(statisticMax, 1)], [0, 40])\n        .clamp(true)\n        .nice(3);\n    } else {\n      return d3\n        .scaleSequential(\n          [0, Math.max(1, statisticMax)],\n          colorInterpolator[statistic]\n        )\n        .clamp(true);\n    }\n  }, [currentMap.option, statistic, statisticMax]);\n\n  useEffect(() => {\n    const topology = topojson.feature(\n      geoData,\n      geoData.objects[mapMeta.graphObjectStates || mapMeta.graphObjectDistricts]\n    );\n\n    const svg = d3.select(svgRef.current);\n\n    const projection = d3.geoMercator().fitSize([width, height], topology);\n    const path = d3.geoPath(projection);\n\n    // Add id to each feature\n    let features =\n      currentMap.option !== MAP_OPTIONS.HOTSPOTS\n        ? currentMap.view === MAP_VIEWS.STATES\n          ? topojson.feature(\n              geoData,\n              geoData.objects[mapMeta.graphObjectStates]\n            ).features\n          : topojson.feature(\n              geoData,\n              geoData.objects[mapMeta.graphObjectDistricts]\n            ).features\n        : [\n            ...topojson.feature(\n              geoData,\n              geoData.objects[mapMeta.graphObjectStates]\n            ).features,\n            ...topojson.feature(\n              geoData,\n              geoData.objects[mapMeta.graphObjectDistricts]\n            ).features,\n          ];\n\n    features = features.map((f) => {\n      const district = f.properties.district;\n      const state = f.properties.st_nm;\n      const obj = Object.assign({}, f);\n      obj.id = `${currentMap.code}-${state}${district ? '-' + district : ''}`;\n      return obj;\n    });\n\n    const fillColor = (d) => {\n      const stateCode = STATE_CODES[d.properties.st_nm];\n      const district = d.properties.district;\n      const stateData = data[stateCode];\n      const districtData = stateData?.districts?.[district];\n      let n;\n      if (currentMap.option === MAP_OPTIONS.ZONES) {\n        n = districtData?.zone || 0;\n      } else {\n        if (district) n = getTotalStatistic(districtData, statistic);\n        else\n          n = getTotalStatistic(\n            stateData,\n            statistic,\n            currentMap.option === MAP_OPTIONS.PER_MILLION\n              ? STATE_POPULATIONS_MIL[stateCode]\n              : 1\n          );\n      }\n      const color = n === 0 ? '#ffffff00' : mapScale(n);\n      return color;\n    };\n\n    const strokeColor = (d) => {\n      return currentMap.option === MAP_OPTIONS.ZONES\n        ? '#343a40'\n        : COLORS[statistic];\n    };\n\n    /* Draw map */\n    const t = d3.transition().duration(D3_TRANSITION_DURATION);\n    let onceTouchedRegion = null;\n    const regionSelection = svg\n      .select('.regions')\n      .selectAll('path')\n      .data(\n        currentMap.option !== MAP_OPTIONS.HOTSPOTS ? features : [],\n        (d) => d.id\n      )\n      .join(\n        (enter) => {\n          const sel = enter\n            .append('path')\n            .attr('d', path)\n            .attr('stroke-width', 1.8)\n            .attr('stroke-opacity', 0)\n            .style('cursor', 'pointer')\n            .on('mouseenter', (d) => {\n              setRegionHighlighted({\n                stateCode: STATE_CODES[d.properties.st_nm],\n                districtName: d.properties.district,\n              });\n            })\n            .on('mouseleave', (d) => {\n              if (onceTouchedRegion === d) onceTouchedRegion = null;\n            })\n            .on('touchstart', (d) => {\n              if (onceTouchedRegion === d) onceTouchedRegion = null;\n              else onceTouchedRegion = d;\n            })\n            .on('click', (d) => {\n              d3.event.stopPropagation();\n              if (onceTouchedRegion || mapMeta.mapType === MAP_TYPES.STATE)\n                return;\n              // Disable pointer events till the new map is rendered\n              svg.attr('pointer-events', 'none');\n              svg\n                .select('.regions')\n                .selectAll('path')\n                .attr('pointer-events', 'none');\n              // Switch map\n              changeMap(STATE_CODES[d.properties.st_nm]);\n            })\n            .attr('fill', fillColor)\n            .attr('stroke', strokeColor);\n          sel.append('title');\n          return sel;\n        },\n        (update) =>\n          update.call((update) =>\n            update\n              .transition(t)\n              .attr('fill', fillColor)\n              .attr('stroke', strokeColor)\n          )\n      )\n      .attr('pointer-events', 'all');\n\n    regionSelection.select('title').text((d) => {\n      if (currentMap.option === MAP_OPTIONS.TOTAL) {\n        const state = d.properties.st_nm;\n        const stateCode = STATE_CODES[state];\n        const district = d.properties.district;\n\n        const stateData = data[stateCode];\n        const districtData = stateData?.districts?.[district];\n        let n;\n        if (district) n = getTotalStatistic(districtData, statistic);\n        else n = getTotalStatistic(stateData, statistic);\n        return (\n          formatNumber(100 * (n / (statisticTotal || 0.001))) +\n          '% from ' +\n          capitalizeAll(district ? district : state)\n        );\n      }\n    });\n\n    svg\n      .transition()\n      .duration(mapMeta.mapType === MAP_TYPES.STATE ? t.duration() / 2 : 0)\n      .on('end', () =>\n        svg.attr('class', currentMap.option === MAP_OPTIONS.ZONES ? 'zone' : '')\n      );\n\n    /* ----------BUBBLE MAP----------*/\n    let circlesData = [];\n    if (currentMap.option === MAP_OPTIONS.HOTSPOTS) {\n      circlesData = features\n        .map((d) => {\n          const stateCode = STATE_CODES[d.properties.st_nm];\n          const district = d.properties.district;\n\n          const stateData = data[stateCode];\n          const districtData = stateData?.districts?.[district];\n          if (district) d.value = getTotalStatistic(districtData, statistic);\n          else\n            d.value = getTotalStatistic(\n              stateData?.districts?.[UNKNOWN_DISTRICT_KEY],\n              statistic\n            );\n          return d;\n        })\n        .sort((a, b) => b.value - a.value);\n    }\n\n    svg\n      .select('.circles')\n      .selectAll('circle')\n      .data(circlesData, (d) => d.id)\n      .join((enter) =>\n        enter\n          .append('circle')\n          .attr('transform', (d) => `translate(${path.centroid(d)})`)\n          .attr('fill-opacity', 0.5)\n          .style('cursor', 'pointer')\n          .attr('pointer-events', 'all')\n          .on('mouseenter', (d) => {\n            setRegionHighlighted({\n              stateCode: STATE_CODES[d.properties.st_nm],\n              districtName: d.properties.district || UNKNOWN_DISTRICT_KEY,\n            });\n          })\n          .on('click', () => {\n            d3.event.stopPropagation();\n          })\n      )\n      .transition(t)\n      .attr('fill', COLORS[statistic] + '70')\n      .attr('stroke', COLORS[statistic] + '70')\n      .attr('r', (d) => mapScale(d.value));\n    /* ------------------------------*/\n\n    let meshStates = [];\n    if (mapMeta.mapType === MAP_TYPES.COUNTRY) {\n      meshStates = [\n        topojson.mesh(geoData, geoData.objects[mapMeta.graphObjectStates]),\n      ];\n      meshStates[0].id = mapMeta.graphObjectStates;\n    }\n    let meshDistricts = [];\n    if (currentMap.view === MAP_VIEWS.DISTRICTS) {\n      // Add id to mesh\n      meshDistricts = [\n        topojson.mesh(geoData, geoData.objects[mapMeta.graphObjectDistricts]),\n      ];\n      meshDistricts[0].id = mapMeta.graphObjectDistricts;\n    }\n\n    svg\n      .select(\n        currentMap.view === MAP_VIEWS.STATES\n          ? '.state-borders'\n          : '.district-borders'\n      )\n      .attr('fill', 'none')\n      .attr('stroke-width', function () {\n        return mapMeta.mapType === MAP_TYPES.COUNTRY &&\n          currentMap.view === MAP_VIEWS.DISTRICTS\n          ? 0\n          : 1.5;\n      })\n      .selectAll('path')\n      .data(\n        currentMap.view === MAP_VIEWS.STATES ? meshStates : meshDistricts,\n        (d) => d.id\n      )\n      .join((enter) => enter.append('path').attr('d', path))\n      .transition(t)\n      .attr('stroke', () => {\n        if (currentMap.option === MAP_OPTIONS.ZONES) {\n          return '#00000060';\n        } else {\n          return COLORS[statistic] + '30';\n        }\n      });\n\n    svg\n      .select(\n        currentMap.view === MAP_VIEWS.STATES\n          ? '.district-borders'\n          : '.state-borders'\n      )\n      .selectAll('path')\n      .data(\n        currentMap.view === MAP_VIEWS.STATES ? meshDistricts : meshStates,\n        (d) => d.id\n      )\n      .join((enter) =>\n        enter\n          .append('path')\n          .attr('d', path)\n          .attr('fill', 'none')\n          .attr('stroke-width', 1.5)\n      )\n      .transition(t)\n      .attr('stroke', '#343a4050');\n\n    // Reset on tapping outside map\n    svg.attr('pointer-events', 'auto').on('click', () => {\n      if (mapMeta.mapType !== MAP_TYPES.STATE) {\n        setRegionHighlighted({\n          stateCode: 'TT',\n          districtName: null,\n        });\n      }\n    });\n  }, [\n    geoData,\n    data,\n    mapMeta,\n    currentMap,\n    setRegionHighlighted,\n    changeMap,\n    isCountryLoaded,\n    mapScale,\n    statistic,\n    statisticTotal,\n  ]);\n\n  useEffect(() => {\n    const state = STATE_NAMES[regionHighlighted.stateCode];\n    const district = regionHighlighted.districtName;\n\n    const svg = d3.select(svgRef.current);\n    if (currentMap.option === MAP_OPTIONS.HOTSPOTS) {\n      svg\n        .select('.circles')\n        .selectAll('circle')\n        .attr('fill-opacity', (d) => {\n          const highlighted =\n            state === d.properties.st_nm &&\n            (!district ||\n              district === d.properties?.district ||\n              (district === UNKNOWN_DISTRICT_KEY && !d.properties.district));\n          return highlighted ? 1 : 0.5;\n        });\n    } else {\n      svg\n        .select('.regions')\n        .selectAll('path')\n        .each(function (d) {\n          const highlighted =\n            state === d.properties.st_nm &&\n            (currentMap.view === MAP_VIEWS.STATES ||\n              district === d.properties?.district);\n          if (highlighted) this.parentNode.appendChild(this);\n          d3.select(this).attr('stroke-opacity', highlighted ? 1 : 0);\n        });\n    }\n  }, [\n    geoData,\n    data,\n    currentMap.option,\n    currentMap.view,\n    regionHighlighted.stateCode,\n    regionHighlighted.districtName,\n    statistic,\n  ]);\n\n  return (\n    <React.Fragment>\n      <div className=\"svg-parent\">\n        <svg\n          id=\"chart\"\n          viewBox={`0 0 ${width} ${height}`}\n          preserveAspectRatio=\"xMidYMid meet\"\n          ref={svgRef}\n        >\n          <g className=\"regions\" />\n          <g className=\"state-borders\" />\n          {currentMap.view === MAP_VIEWS.DISTRICTS && (\n            <g className=\"district-borders\" />\n          )}\n          {currentMap.option === MAP_OPTIONS.HOTSPOTS && (\n            <g className=\"circles\" />\n          )}\n        </svg>\n        {mapMeta.mapType === MAP_TYPES.STATE &&\n          !!getTotalStatistic(\n            data[currentMap.code]?.districts?.[UNKNOWN_DISTRICT_KEY],\n            statistic\n          ) && (\n            <div className=\"disclaimer\">\n              <Icon.AlertCircle />\n              {t('District-wise {{statistic}} numbers need reconciliation', {\n                statistic: t(statistic),\n              })}\n            </div>\n          )}\n      </div>\n\n      {mapScale && (\n        <MapLegend\n          data={data}\n          mapScale={mapScale}\n          mapOption={currentMap.option}\n          statistic={statistic}\n        />\n      )}\n\n      <svg style={{position: 'absolute', height: 0}}>\n        <defs>\n          <filter id=\"balance-color\" colorInterpolationFilters=\"sRGB\">\n            <feColorMatrix\n              type=\"matrix\"\n              values=\"0.91372549  0           0            0  0.08627451\n                      0           0.91372549  0            0  0.08627451\n                      0           0           0.854901961  0  0.145098039\n                      0           0           0            1  0\"\n            />\n          </filter>\n        </defs>\n      </svg>\n    </React.Fragment>\n  );\n}\n\nexport default MapVisualizer;\n","import MapVisualizerLoader from './loaders/mapvisualizer';\nimport MapVisualizer from './mapvisualizer';\n\nimport {\n  MAP_META,\n  MAP_OPTIONS,\n  MAP_STATISTICS,\n  MAP_TYPES,\n  MAP_VIEWS,\n  STATE_NAMES,\n  STATE_POPULATIONS_MIL,\n  UNKNOWN_DISTRICT_KEY,\n} from '../constants';\nimport {\n  capitalize,\n  formatNumber,\n  formatDate,\n  formatLastUpdated,\n  getStatistic,\n} from '../utils/commonfunctions';\n\nimport {PinIcon} from '@primer/octicons-v2-react';\nimport classnames from 'classnames';\nimport equal from 'fast-deep-equal';\nimport produce from 'immer';\nimport React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n  Suspense,\n} from 'react';\nimport ReactDOM from 'react-dom';\nimport * as Icon from 'react-feather';\nimport {useTranslation} from 'react-i18next';\nimport {useHistory} from 'react-router-dom';\nimport {useSprings, animated} from 'react-spring';\n\nfunction MapExplorer({\n  stateCode,\n  data,\n  regionHighlighted,\n  setRegionHighlighted,\n  anchor,\n  setAnchor,\n  mapStatistic,\n  setMapStatistic,\n  isCountryLoaded = true,\n}) {\n  const {t} = useTranslation();\n  const history = useHistory();\n\n  const mapExplorerRef = useRef();\n\n  const [currentMap, setCurrentMap] = useState({\n    code: stateCode,\n    view:\n      MAP_META[stateCode].mapType === MAP_TYPES.COUNTRY\n        ? MAP_VIEWS.STATES\n        : MAP_VIEWS.DISTRICTS,\n    option: MAP_OPTIONS.TOTAL,\n  });\n  const currentMapMeta = MAP_META[currentMap.code];\n\n  const currentMapData =\n    currentMapMeta.mapType === MAP_TYPES.COUNTRY\n      ? data\n      : {[currentMap.code]: data[currentMap.code]};\n\n  useEffect(() => {\n    if (regionHighlighted.districtName) {\n      if (\n        currentMap.code !== regionHighlighted.stateCode &&\n        !(\n          currentMapMeta.mapType === MAP_TYPES.COUNTRY &&\n          currentMap.view === MAP_VIEWS.DISTRICTS\n        )\n      ) {\n        const newMapMeta = MAP_META[regionHighlighted.stateCode];\n        if (!newMapMeta) {\n          return;\n        }\n        setCurrentMap({\n          code: regionHighlighted.stateCode,\n          view: MAP_VIEWS.DISTRICTS,\n          option:\n            currentMap.option === MAP_OPTIONS.PER_MILLION\n              ? MAP_OPTIONS.TOTAL\n              : currentMap.option,\n        });\n      }\n    } else if (isCountryLoaded && currentMapMeta.mapType === MAP_TYPES.STATE) {\n      setCurrentMap({\n        code: 'TT',\n        view:\n          currentMap.option === MAP_OPTIONS.ZONES\n            ? MAP_VIEWS.DISTRICTS\n            : MAP_VIEWS.STATES,\n        option: currentMap.option,\n      });\n    }\n  }, [\n    isCountryLoaded,\n    regionHighlighted.stateCode,\n    regionHighlighted.districtName,\n    currentMap.code,\n    currentMap.option,\n    currentMap.view,\n    currentMapMeta.mapType,\n  ]);\n\n  const switchMap = useCallback(\n    (stateCode) => {\n      const newMapMeta = MAP_META[stateCode];\n      if (!newMapMeta) {\n        return;\n      }\n      if (newMapMeta.mapType === MAP_TYPES.STATE) {\n        const districts = data[stateCode].districts;\n        const topDistrict = Object.keys(districts).sort(\n          (a, b) =>\n            getStatistic(districts[b], 'total', mapStatistic) -\n            getStatistic(districts[a], 'total', mapStatistic)\n        )[0];\n        ReactDOM.unstable_batchedUpdates(() => {\n          setRegionHighlighted({\n            stateCode: stateCode,\n            districtName: topDistrict,\n          });\n          setCurrentMap({\n            code: stateCode,\n            view: MAP_VIEWS.DISTRICTS,\n            option:\n              currentMap.option === MAP_OPTIONS.PER_MILLION\n                ? MAP_OPTIONS.TOTAL\n                : currentMap.option,\n          });\n        });\n      } else {\n        ReactDOM.unstable_batchedUpdates(() => {\n          setCurrentMap({\n            code: 'TT',\n            view:\n              currentMap.option === MAP_OPTIONS.ZONES\n                ? MAP_VIEWS.DISTRICTS\n                : MAP_VIEWS.STATES,\n            option: currentMap.option,\n          });\n          setRegionHighlighted({\n            stateCode: 'TT',\n            districtName: null,\n          });\n        });\n      }\n    },\n    [data, currentMap.option, mapStatistic, setRegionHighlighted]\n  );\n\n  const panelState = useMemo(() => {\n    const stateCode =\n      currentMap.view === MAP_VIEWS.STATES\n        ? regionHighlighted.stateCode\n        : currentMap.code;\n    const stateData = data[stateCode] || {};\n    return produce(stateData, (draft) => {\n      draft.state = STATE_NAMES[stateCode];\n    });\n  }, [data, regionHighlighted.stateCode, currentMap.view, currentMap.code]);\n\n  const hoveredRegion = useMemo(() => {\n    const hoveredData =\n      (regionHighlighted.districtName\n        ? data[regionHighlighted.stateCode]?.districts?.[\n            regionHighlighted.districtName\n          ]\n        : data[regionHighlighted.stateCode]) || {};\n    return produce(hoveredData, (draft) => {\n      draft.name =\n        regionHighlighted.districtName ||\n        STATE_NAMES[regionHighlighted.stateCode];\n      if (!regionHighlighted.districtName)\n        draft.population_millions =\n          STATE_POPULATIONS_MIL[regionHighlighted.stateCode];\n    });\n  }, [data, regionHighlighted.stateCode, regionHighlighted.districtName]);\n\n  const handleTabClick = (option) => {\n    switch (option) {\n      case MAP_OPTIONS.TOTAL:\n        setCurrentMap({\n          code: currentMap.code,\n          view:\n            currentMapMeta.mapType === MAP_TYPES.COUNTRY\n              ? MAP_VIEWS.STATES\n              : MAP_VIEWS.DISTRICTS,\n          option: MAP_OPTIONS.TOTAL,\n        });\n        if (currentMapMeta.mapType === MAP_TYPES.COUNTRY)\n          setRegionHighlighted({\n            stateCode: regionHighlighted.stateCode,\n            districtName: null,\n          });\n        return;\n      case MAP_OPTIONS.PER_MILLION:\n        if (currentMapMeta.mapType === MAP_TYPES.STATE) return;\n        setCurrentMap({\n          code: currentMap.code,\n          view: MAP_VIEWS.STATES,\n          option: MAP_OPTIONS.PER_MILLION,\n        });\n        setRegionHighlighted({\n          stateCode: regionHighlighted.stateCode,\n          districtName: null,\n        });\n        return;\n      case MAP_OPTIONS.HOTSPOTS:\n        if (currentMapMeta.mapType === MAP_TYPES.STATE) return;\n        setCurrentMap({\n          code: currentMap.code,\n          view: MAP_VIEWS.DISTRICTS,\n          option: MAP_OPTIONS.HOTSPOTS,\n        });\n        return;\n      case MAP_OPTIONS.ZONES:\n        setCurrentMap({\n          code: currentMap.code,\n          view: MAP_VIEWS.DISTRICTS,\n          option: MAP_OPTIONS.ZONES,\n        });\n        if (currentMapMeta.mapType === MAP_TYPES.COUNTRY)\n          setRegionHighlighted({\n            stateCode: 'TT',\n            districtName: null,\n          });\n        return;\n      default:\n        return;\n    }\n  };\n\n  const springs = useSprings(\n    MAP_STATISTICS.length,\n    MAP_STATISTICS.map((statistic) => ({\n      total: getStatistic(panelState, 'total', statistic),\n      delta: getStatistic(panelState, 'delta', statistic),\n      from: {\n        total: getStatistic(panelState, 'total', statistic),\n        delta: getStatistic(panelState, 'delta', statistic),\n      },\n      config: {\n        tension: 500,\n        clamp: true,\n      },\n    }))\n  );\n\n  return (\n    <div\n      className={classnames(\n        'MapExplorer',\n        {stickied: anchor === 'mapexplorer'},\n        {hidden: anchor && anchor !== 'mapexplorer'}\n      )}\n    >\n      {window.innerWidth > 769 && (\n        <div\n          className={classnames('anchor', {stickied: anchor === 'mapexplorer'})}\n          onClick={() => {\n            setAnchor(anchor === 'mapexplorer' ? null : 'mapexplorer');\n          }}\n        >\n          <PinIcon />\n        </div>\n      )}\n\n      <div className=\"header\">\n        <h1>\n          {currentMap.code === 'TT'\n            ? t('India')\n            : t(STATE_NAMES[currentMap.code])}{' '}\n          {t('Map')}\n        </h1>\n        <h6>\n          {t('{{action}} over a {{mapType}} for more details', {\n            action: t(window.innerWidth <= 769 ? 'Tap' : 'Hover'),\n            mapType: t(\n              currentMapMeta.mapType === MAP_TYPES.COUNTRY\n                ? 'state/UT'\n                : 'District'\n            ),\n          })}\n        </h6>\n      </div>\n\n      <div className=\"map-stats\">\n        {MAP_STATISTICS.map((statistic, index) => (\n          <div\n            key={statistic}\n            className={classnames('stats', statistic, {\n              focused: statistic === mapStatistic,\n            })}\n            onClick={() => setMapStatistic(statistic)}\n          >\n            <h5>{t(capitalize(statistic))}</h5>\n            <div className=\"stats-bottom\">\n              <animated.h1>\n                {springs[index].total.interpolate((total) =>\n                  formatNumber(Math.floor(total))\n                )}\n              </animated.h1>\n              {statistic !== 'tested' && statistic !== 'active' && (\n                <animated.h6>\n                  {springs[index].delta.interpolate((delta) =>\n                    delta > 0 ? `+${formatNumber(Math.floor(delta))}` : '\\u00A0'\n                  )}\n                </animated.h6>\n              )}\n              {statistic === 'tested' && (\n                <h6>\n                  {panelState?.total?.tested &&\n                    t('As of {{date}}', {\n                      date: formatDate(\n                        panelState.meta.tested['last_updated'],\n                        'dd MMM'\n                      ),\n                    })}\n                </h6>\n              )}\n            </div>\n            {statistic === 'tested' && panelState?.total?.tested && (\n              <a href={panelState.meta.tested.source} target=\"_noblank\">\n                <Icon.Link />\n              </a>\n            )}\n          </div>\n        ))}\n      </div>\n\n      <div className=\"meta\">\n        {currentMapMeta.mapType === MAP_TYPES.STATE && (\n          <div\n            className=\"map-button\"\n            onClick={() => history.push(`state/${currentMap.code}`)}\n          >\n            {t('Visit state page')}\n            <Icon.ArrowRightCircle />\n          </div>\n        )}\n\n        {currentMapMeta.mapType !== MAP_TYPES.STATE &&\n          panelState?.meta?.['last_updated'] && (\n            <div className=\"last-update\">\n              <h6>{t('Last updated')}</h6>\n              <h3>\n                {`${formatLastUpdated(panelState.meta['last_updated'])} ${t(\n                  'ago'\n                )}`}\n              </h3>\n            </div>\n          )}\n\n        <h2\n          className={classnames(mapStatistic, {\n            [hoveredRegion?.zone]: currentMap.option === MAP_OPTIONS.ZONES,\n          })}\n        >\n          {t(hoveredRegion.name)}\n          {hoveredRegion.name === UNKNOWN_DISTRICT_KEY &&\n            ` (${t(STATE_NAMES[regionHighlighted.stateCode])})`}\n        </h2>\n\n        {currentMapMeta.mapType === MAP_TYPES.STATE && (\n          <div className=\"map-button\" onClick={() => switchMap('TT')}>\n            {t('Back')}\n          </div>\n        )}\n\n        {currentMap.option !== MAP_OPTIONS.ZONES &&\n          ((currentMap.view === MAP_VIEWS.DISTRICTS &&\n            regionHighlighted.districtName) ||\n            (currentMap.view === MAP_VIEWS.STATES &&\n              currentMap.option !== MAP_OPTIONS.TOTAL)) && (\n            <h1 className={classnames('district', mapStatistic)}>\n              {formatNumber(\n                getStatistic(\n                  hoveredRegion,\n                  'total',\n                  mapStatistic,\n                  currentMap.option === MAP_OPTIONS.PER_MILLION\n                    ? hoveredRegion.population_millions\n                    : 1\n                )\n              )}\n              <br />\n              <span>\n                {t(mapStatistic)}\n                {currentMap.option === MAP_OPTIONS.PER_MILLION &&\n                  ` ${t('per million')}`}\n              </span>\n            </h1>\n          )}\n      </div>\n\n      <div ref={mapExplorerRef}>\n        {mapStatistic && (\n          <Suspense\n            fallback={\n              <MapVisualizerLoader\n                className=\"map-loader\"\n                {...{\n                  width: mapExplorerRef.current?.clientWidth,\n                  statistic: mapStatistic,\n                }}\n              />\n            }\n          >\n            <MapVisualizer\n              currentMap={currentMap}\n              data={currentMapData}\n              changeMap={switchMap}\n              regionHighlighted={regionHighlighted}\n              setRegionHighlighted={setRegionHighlighted}\n              statistic={mapStatistic}\n              isCountryLoaded={isCountryLoaded}\n            />\n          </Suspense>\n        )}\n      </div>\n\n      <div className=\"tabs-map\">\n        {Object.values(MAP_OPTIONS).map((option) => (\n          <div\n            key={option}\n            className={classnames('tab', {\n              focused: currentMap.option === option,\n            })}\n            onClick={() => handleTabClick(option)}\n          >\n            <h4>\n              {t(option)}\n              {option === MAP_OPTIONS.PER_MILLION && <sup>&dagger;</sup>}\n            </h4>\n          </div>\n        ))}\n      </div>\n\n      <h6 className={classnames('footnote', 'table-fineprint')}>\n        &dagger; {`${t('Based on 2019 population projection by NCP')} (`}\n        <a\n          href=\"https://nhm.gov.in/New_Updates_2018/Report_Population_Projection_2019.pdf\"\n          target=\"_noblank\"\n          style={{color: '#6c757d'}}\n        >\n          {t('source')}\n        </a>\n        )\n      </h6>\n    </div>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (!equal(prevProps.regionHighlighted, currProps.regionHighlighted)) {\n    return false;\n  }\n  if (!equal(prevProps.mapStatistic, currProps.mapStatistic)) {\n    return false;\n  }\n  if (!equal(prevProps.anchor, currProps.anchor)) {\n    return false;\n  }\n  if (\n    !equal(\n      prevProps.data?.TT?.meta?.['last_updated'],\n      currProps.data?.TT?.meta?.['last_updated']\n    )\n  ) {\n    return false;\n  }\n  if (!equal(prevProps.data?.TT?.total, currProps.data?.TT?.total)) {\n    return false;\n  }\n  return true;\n};\n\nexport default React.memo(MapExplorer, isEqual);\n","import {\n  COLORS,\n  D3_TRANSITION_DURATION,\n  TIMESERIES_STATISTICS,\n} from '../constants';\nimport {useResizeObserver} from '../hooks/useresizeobserver';\nimport {\n  capitalize,\n  formatNumber,\n  formatDate,\n  getStatistic,\n  parseIndiaDate,\n} from '../utils/commonfunctions';\n\nimport classnames from 'classnames';\nimport * as d3 from 'd3';\nimport {interpolatePath} from 'd3-interpolate-path';\nimport {formatISO, subDays} from 'date-fns';\nimport equal from 'fast-deep-equal';\nimport React, {useCallback, useEffect, useRef, useState} from 'react';\nimport {useTranslation} from 'react-i18next';\n\nfunction TimeSeries({timeseries, dates, chartType, isUniform, isLog}) {\n  const {t} = useTranslation();\n  const refs = useRef([]);\n\n  const wrapperRef = useRef();\n  const dimensions = useResizeObserver(wrapperRef);\n\n  const [highlightedDate, setHighlightedDate] = useState();\n\n  useEffect(() => {\n    setHighlightedDate(dates[dates.length - 1]);\n  }, [dates]);\n\n  useEffect(() => {\n    const T = dates.length;\n\n    const {width, height} =\n      dimensions || wrapperRef.current.getBoundingClientRect();\n\n    // Margins\n    const margin = {top: 15, right: 35, bottom: 25, left: 25};\n    const chartRight = width - margin.right;\n    const chartBottom = height - margin.bottom;\n\n    const yBufferTop = 1.2;\n    const yBufferBottom = 1.1;\n\n    const xScale = d3\n      .scaleTime()\n      .clamp(true)\n      .domain([parseIndiaDate(dates[0]), parseIndiaDate(dates[T - 1])])\n      .range([margin.left, chartRight]);\n\n    // Number of x-axis ticks\n    const numTicksX = width < 480 ? 4 : 7;\n\n    const xAxis = (g) =>\n      g.attr('class', 'x-axis').call(\n        d3\n          .axisBottom(xScale)\n          .ticks(numTicksX)\n          .tickFormat((date) => formatDate(date, 'dd MMM'))\n      );\n\n    const xAxis2 = (g, yScale) => {\n      g.attr('class', 'x-axis2')\n        .call(d3.axisBottom(xScale).tickValues([]).tickSize(0))\n        .select('.domain')\n        .style('transform', `translateY(${yScale(0)}px)`);\n\n      if (yScale(0) !== chartBottom) g.select('.domain').attr('opacity', 0.4);\n      else g.select('.domain').attr('opacity', 0);\n    };\n\n    const yAxis = (g, yScale) =>\n      g\n        .attr('class', 'y-axis')\n        .call(d3.axisRight(yScale).ticks(4, '0~s').tickPadding(4));\n\n    const uniformScaleMin = d3.min(dates, (date) =>\n      getStatistic(timeseries[date], chartType, 'active')\n    );\n\n    const uniformScaleMax = d3.max(dates, (date) =>\n      Math.max(\n        getStatistic(timeseries[date], chartType, 'confirmed'),\n        getStatistic(timeseries[date], chartType, 'recovered'),\n        getStatistic(timeseries[date], chartType, 'deceased')\n      )\n    );\n\n    const yScaleUniformLinear = d3\n      .scaleLinear()\n      .clamp(true)\n      .domain([uniformScaleMin, Math.max(1, yBufferTop * uniformScaleMax)])\n      .nice(4)\n      .range([chartBottom, margin.top]);\n\n    const yScaleUniformLog = d3\n      .scaleLog()\n      .clamp(true)\n      .domain([\n        Math.max(1, uniformScaleMin),\n        Math.max(10, yBufferTop * uniformScaleMax),\n      ])\n      .nice(4)\n      .range([chartBottom, margin.top]);\n\n    const generateYScale = (statistic) => {\n      if (isUniform && chartType === 'total' && isLog && statistic !== 'tested')\n        return yScaleUniformLog;\n\n      if (isUniform && statistic !== 'tested') return yScaleUniformLinear;\n\n      if (chartType === 'total' && isLog)\n        return d3\n          .scaleLog()\n          .clamp(true)\n          .domain([\n            Math.max(\n              1,\n              d3.min(dates, (date) =>\n                getStatistic(timeseries[date], chartType, statistic)\n              )\n            ),\n            Math.max(\n              10,\n              yBufferTop *\n                d3.max(dates, (date) =>\n                  getStatistic(timeseries[date], chartType, statistic)\n                )\n            ),\n          ])\n          .nice(4)\n          .range([chartBottom, margin.top]);\n\n      return d3\n        .scaleLinear()\n        .clamp(true)\n        .domain([\n          yBufferBottom *\n            Math.min(\n              0,\n              d3.min(dates, (date) =>\n                getStatistic(timeseries[date], chartType, statistic)\n              )\n            ),\n          Math.max(\n            1,\n            yBufferTop *\n              d3.max(dates, (date) =>\n                getStatistic(timeseries[date], chartType, statistic)\n              )\n          ),\n        ])\n        .nice(4)\n        .range([chartBottom, margin.top]);\n    };\n\n    function mousemove() {\n      const xm = d3.mouse(this)[0];\n      const date = xScale.invert(xm);\n      const bisectDate = d3.bisector((date) => parseIndiaDate(date)).left;\n      const index = bisectDate(dates, date, 1);\n      setHighlightedDate(dates[index]);\n    }\n\n    function mouseout() {\n      setHighlightedDate(dates[T - 1]);\n    }\n\n    /* Begin drawing charts */\n    refs.current.forEach((ref, i) => {\n      const svg = d3.select(ref);\n      const t = svg.transition().duration(D3_TRANSITION_DURATION);\n\n      const statistic = TIMESERIES_STATISTICS[i];\n      const yScale = generateYScale(statistic);\n      const color = COLORS[statistic];\n\n      /* X axis */\n      svg\n        .select('.x-axis')\n        .style('transform', `translateY(${chartBottom}px)`)\n        .transition(t)\n        .call(xAxis);\n      svg.select('.x-axis2').transition(t).call(xAxis2, yScale);\n\n      /* Y axis */\n      svg\n        .select('.y-axis')\n        .style('transform', `translateX(${chartRight}px)`)\n        .transition(t)\n        .call(yAxis, yScale);\n\n      /* Path dots */\n      svg\n        .selectAll('circle')\n        .data(dates, (date) => date)\n        .join((enter) =>\n          enter\n            .append('circle')\n            .attr('fill', color)\n            .attr('stroke', color)\n            .attr('r', 2)\n            .attr('cy', chartBottom)\n            .attr('cx', (date) => xScale(parseIndiaDate(date)))\n        )\n        .transition(t)\n        .attr('cx', (date) => xScale(parseIndiaDate(date)))\n        .attr('cy', (date) =>\n          yScale(getStatistic(timeseries[date], chartType, statistic))\n        );\n\n      if (chartType === 'total') {\n        svg\n          .selectAll('.stem')\n          .transition(t)\n          .attr('y1', yScale(0))\n          .attr('y2', yScale(0))\n          .remove();\n\n        const line = d3\n          .line()\n          .curve(d3.curveMonotoneX)\n          .x((date) => xScale(parseIndiaDate(date)))\n          .y((date) =>\n            yScale(getStatistic(timeseries[date], chartType, statistic))\n          );\n\n        let pathLength;\n        svg\n          .selectAll('.trend')\n          .data(T ? [dates] : [])\n          .join(\n            (enter) =>\n              enter\n                .append('path')\n                .attr('class', 'trend')\n                .attr('fill', 'none')\n                .attr('stroke', color + '50')\n                .attr('stroke-width', 4)\n                .attr('d', line)\n                .attr('stroke-dasharray', function () {\n                  return (pathLength = this.getTotalLength());\n                })\n                .call((enter) =>\n                  enter\n                    .attr('stroke-dashoffset', pathLength)\n                    .transition(t)\n                    .attr('stroke-dashoffset', 0)\n                ),\n            (update) =>\n              update\n                .attr('stroke-dasharray', null)\n                .transition(t)\n                .attrTween('d', function (date) {\n                  const previous = d3.select(this).attr('d');\n                  const current = line(date);\n                  return interpolatePath(previous, current);\n                })\n          );\n      } else {\n        /* DAILY TRENDS */\n        svg.selectAll('.trend').remove();\n\n        svg\n          .selectAll('.stem')\n          .data(dates, (date) => date)\n          .join((enter) =>\n            enter\n              .append('line')\n              .attr('class', 'stem')\n              .style('stroke', color + '99')\n              .style('stroke-width', 4)\n              .attr('x1', (date) => xScale(parseIndiaDate(date)))\n              .attr('y1', chartBottom)\n              .attr('x2', (date) => xScale(parseIndiaDate(date)))\n              .attr('y2', chartBottom)\n          )\n          .transition(t)\n          .attr('x1', (date) => xScale(parseIndiaDate(date)))\n          .attr('y1', yScale(0))\n          .attr('x2', (date) => xScale(parseIndiaDate(date)))\n          .attr('y2', (date) =>\n            yScale(getStatistic(timeseries[date], chartType, statistic))\n          );\n      }\n\n      svg.selectAll('*').attr('pointer-events', 'none');\n      svg\n        .on('mousemove', mousemove)\n        .on('touchmove', mousemove)\n        .on('mouseout', mouseout)\n        .on('touchend', mouseout);\n    });\n  }, [chartType, dimensions, isUniform, isLog, timeseries, dates]);\n\n  useEffect(() => {\n    refs.current.forEach((ref) => {\n      const svg = d3.select(ref);\n      svg\n        .selectAll('circle')\n        .attr('r', (date) => (date === highlightedDate ? 4 : 2));\n    });\n  }, [highlightedDate]);\n\n  const getStatisticDelta = useCallback(\n    (statistic) => {\n      if (!highlightedDate) return;\n      const deltaToday = getStatistic(\n        timeseries?.[highlightedDate],\n        'delta',\n        statistic\n      );\n      if (chartType === 'total') return deltaToday;\n      const yesterday = formatISO(subDays(parseIndiaDate(highlightedDate), 1), {\n        representation: 'date',\n      });\n      const deltaYesterday = getStatistic(\n        timeseries?.[yesterday],\n        'delta',\n        statistic\n      );\n      return deltaToday - deltaYesterday;\n    },\n    [timeseries, highlightedDate, chartType]\n  );\n\n  return (\n    <React.Fragment>\n      <div className=\"TimeSeries\">\n        {TIMESERIES_STATISTICS.map((statistic, index) => {\n          const delta = getStatisticDelta(statistic);\n          return (\n            <div\n              key={statistic}\n              className={classnames('svg-parent', `is-${statistic}`)}\n              ref={wrapperRef}\n            >\n              {highlightedDate && (\n                <div className={classnames('stats', `is-${statistic}`)}>\n                  <h5 className=\"title\">{t(capitalize(statistic))}</h5>\n                  <h5 className=\"title\">\n                    {formatDate(highlightedDate, 'dd MMMM')}\n                  </h5>\n                  <div className=\"stats-bottom\">\n                    <h2>\n                      {formatNumber(\n                        getStatistic(\n                          timeseries?.[highlightedDate],\n                          chartType,\n                          statistic\n                        )\n                      )}\n                    </h2>\n                    <h6>{`${delta >= 0 ? '+' : ''}${formatNumber(delta)}`}</h6>\n                  </div>\n                </div>\n              )}\n              <svg\n                ref={(element) => {\n                  refs.current[index] = element;\n                }}\n                preserveAspectRatio=\"xMidYMid meet\"\n              >\n                <g className=\"x-axis\" />\n                <g className=\"x-axis2\" />\n                <g className=\"y-axis\" />\n              </svg>\n            </div>\n          );\n        })}\n      </div>\n    </React.Fragment>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (!equal(currProps.chartType, prevProps.chartType)) {\n    return false;\n  }\n  if (!equal(currProps.isUniform, prevProps.isUniform)) {\n    return false;\n  }\n  if (!equal(currProps.isLog, prevProps.isLog)) {\n    return false;\n  }\n  if (!equal(currProps.stateCode, prevProps.stateCode)) {\n    return false;\n  }\n  if (!equal(currProps.dates, prevProps.dates)) {\n    return false;\n  }\n  return true;\n};\n\nexport default React.memo(TimeSeries, isEqual);\n","import TimeSeries from './timeseries';\n\nimport {\n  STATE_NAMES,\n  TIMESERIES_CHART_TYPES,\n  TIMESERIES_OPTIONS,\n} from '../constants';\nimport {getIndiaYesterdayISO, parseIndiaDate} from '../utils/commonfunctions';\n\nimport 'intersection-observer';\n\nimport {PinIcon, IssueOpenedIcon} from '@primer/octicons-v2-react';\nimport classnames from 'classnames';\nimport {formatISO, sub} from 'date-fns';\nimport equal from 'fast-deep-equal';\nimport React, {useMemo, useRef, useState} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useIsVisible} from 'react-is-visible';\nimport {useLocalStorage} from 'react-use';\n\nfunction TimeSeriesExplorer({\n  timeseries,\n  date: timelineDate,\n  regionHighlighted,\n  setRegionHighlighted,\n  anchor,\n  setAnchor,\n  stateCodes,\n}) {\n  const {t} = useTranslation();\n  const [timeseriesOption, setTimeseriesOption] = useState(\n    TIMESERIES_OPTIONS.MONTH\n  );\n  const [chartType, setChartType] = useLocalStorage('chartType', 'total');\n  const [isUniform, setIsUniform] = useLocalStorage('isUniform', true);\n  const [isLog, setIsLog] = useLocalStorage('isLog', false);\n  const explorerElement = useRef();\n  const isVisible = useIsVisible(explorerElement, {once: true});\n\n  const dates = useMemo(() => {\n    const today = timelineDate || getIndiaYesterdayISO();\n    const pastDates = Object.keys(timeseries || {}).filter(\n      (date) => date <= today\n    );\n\n    if (timeseriesOption === TIMESERIES_OPTIONS.TWO_WEEKS) {\n      const cutOffDate = formatISO(sub(parseIndiaDate(today), {weeks: 2}), {\n        representation: 'date',\n      });\n      return pastDates.filter((date) => date >= cutOffDate);\n    } else if (timeseriesOption === TIMESERIES_OPTIONS.MONTH) {\n      const cutOffDate = formatISO(sub(parseIndiaDate(today), {months: 1}), {\n        representation: 'date',\n      });\n      return pastDates.filter((date) => date >= cutOffDate);\n    }\n    return pastDates;\n  }, [timeseries, timelineDate, timeseriesOption]);\n\n  const handleChange = ({target}) => {\n    setRegionHighlighted({\n      stateCode: target.value,\n      districtName: null,\n    });\n  };\n\n  return (\n    <div\n      className={classnames('TimeSeriesExplorer', {\n        stickied: anchor === 'timeseries',\n      })}\n      style={{display: anchor === 'mapexplorer' ? 'none' : ''}}\n      ref={explorerElement}\n    >\n      <div className=\"timeseries-header\">\n        <div\n          className={classnames('anchor', {\n            stickied: anchor === 'timeseries',\n          })}\n          onClick={() => {\n            setAnchor(anchor === 'timeseries' ? null : 'timeseries');\n          }}\n        >\n          <PinIcon />\n        </div>\n\n        <h1>{t('Spread Trends')}</h1>\n        <div className=\"tabs\">\n          {Object.entries(TIMESERIES_CHART_TYPES).map(([ctype, value]) => (\n            <div\n              className={`tab ${chartType === ctype ? 'focused' : ''}`}\n              key={ctype}\n              onClick={() => {\n                setChartType(ctype);\n              }}\n            >\n              <h4>{t(value)}</h4>\n            </div>\n          ))}\n        </div>\n\n        <div className=\"scale-modes\">\n          <label className=\"main\">{t('Scale Modes')}</label>\n          <div className=\"timeseries-mode\">\n            <label htmlFor=\"timeseries-mode\">{t('Uniform')}</label>\n            <input\n              id=\"timeseries-mode\"\n              type=\"checkbox\"\n              className=\"switch\"\n              checked={isUniform}\n              aria-label={t('Checked by default to scale uniformly.')}\n              onChange={() => {\n                setIsUniform(!isUniform);\n              }}\n            />\n          </div>\n          <div\n            className={`timeseries-logmode ${\n              chartType !== 'total' ? 'disabled' : ''\n            }`}\n          >\n            <label htmlFor=\"timeseries-logmode\">{t('Logarithmic')}</label>\n            <input\n              id=\"timeseries-logmode\"\n              type=\"checkbox\"\n              checked={chartType === 'total' && isLog}\n              className=\"switch\"\n              disabled={chartType !== 'total'}\n              onChange={() => {\n                setIsLog(!isLog);\n              }}\n            />\n          </div>\n        </div>\n\n        {stateCodes && (\n          <div className=\"trends-state-name\">\n            <select value={regionHighlighted.stateCode} onChange={handleChange}>\n              {stateCodes.map((stateCode) => {\n                return (\n                  <option value={stateCode} key={stateCode}>\n                    {stateCode === 'TT'\n                      ? t('All States')\n                      : t(STATE_NAMES[stateCode])}\n                  </option>\n                );\n              })}\n            </select>\n          </div>\n        )}\n      </div>\n\n      {isVisible && (\n        <TimeSeries\n          stateCode={regionHighlighted.stateCode}\n          {...{timeseries, dates, chartType, isUniform, isLog}}\n        />\n      )}\n\n      <div className=\"pills\">\n        {Object.values(TIMESERIES_OPTIONS).map((option) => (\n          <button\n            key={option}\n            type=\"button\"\n            className={classnames({selected: timeseriesOption === option})}\n            onClick={() => setTimeseriesOption(option)}\n          >\n            {t(option)}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"alert\">\n        <IssueOpenedIcon size={24} />\n        <div className=\"alert-right\">\n          {t('Tested chart is independent of uniform scaling')}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (\n    !equal(\n      currProps.regionHighlighted.stateCode,\n      prevProps.regionHighlighted.stateCode\n    )\n  ) {\n    return false;\n  }\n  if (!equal(currProps.date, prevProps.date)) {\n    return false;\n  }\n  if (!equal(currProps.anchor, prevProps.anchor)) {\n    return false;\n  }\n  return true;\n};\n\nexport default React.memo(TimeSeriesExplorer, isEqual);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Compass = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76\"\n  }));\n});\nCompass.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nCompass.displayName = 'Compass';\nexport default Compass;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _sx = _interopRequireDefault(require(\"./sx\"));\n\nvar _constants = require(\"./constants\");\n\nvar _theme = _interopRequireDefault(require(\"./theme\"));\n\nvar _Box = _interopRequireDefault(require(\"./Box\"));\n\nvar SELECTED_CLASS = 'selected';\n\nvar Wrapper = _styledComponents[\"default\"].li.withConfig({\n  displayName: \"Breadcrumb__Wrapper\",\n  componentId: \"sc-1hutxdl-0\"\n})([\"display:inline-block;white-space:nowrap;list-style:none;&::after{padding-right:0.5em;padding-left:0.5em;color:\", \";font-size:\", \";content:'/';}&:first-child{margin-left:0;}&:last-child{&::after{content:none;}}\"], (0, _constants.get)('colors.gray.2'), (0, _constants.get)('fontSizes.1'));\n\nvar BreadcrumbBase = function BreadcrumbBase(_ref) {\n  var className = _ref.className,\n      children = _ref.children,\n      theme = _ref.theme,\n      rest = (0, _objectWithoutProperties2[\"default\"])(_ref, [\"className\", \"children\", \"theme\"]);\n  var classes = (0, _classnames[\"default\"])(className, 'Breadcrumb');\n\n  var wrappedChildren = _react[\"default\"].Children.map(children, function (child) {\n    return /*#__PURE__*/_react[\"default\"].createElement(Wrapper, {\n      theme: theme\n    }, child);\n  });\n\n  return /*#__PURE__*/_react[\"default\"].createElement(\"nav\", (0, _extends2[\"default\"])({\n    className: classes,\n    \"aria-label\": \"breadcrumb\"\n  }, rest), /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n    as: \"ol\",\n    my: 0,\n    pl: 0\n  }, wrappedChildren));\n};\n\nBreadcrumbBase.displayName = \"BreadcrumbBase\";\nvar Breadcrumb = (0, _styledComponents[\"default\"])(BreadcrumbBase).withConfig({\n  displayName: \"Breadcrumb\",\n  componentId: \"sc-1hutxdl-1\"\n})([\"display:flex;justify-content:space-between;\", \";\", \";\", \";\"], _constants.COMMON, _constants.FLEX, _sx[\"default\"]);\nBreadcrumb.Item = _styledComponents[\"default\"].a.attrs(function (props) {\n  return {\n    activeClassName: typeof props.to === 'string' ? 'selected' : '',\n    className: (0, _classnames[\"default\"])(props.selected && SELECTED_CLASS, props.className),\n    'aria-current': props.selected ? 'page' : null\n  };\n}).withConfig({\n  displayName: \"Breadcrumb__Item\",\n  componentId: \"sc-1hutxdl-2\"\n})([\"color:\", \";display:inline-block;font-size:\", \";text-decoration:none;&:hover{text-decoration:underline;}&.selected{color:\", \";pointer-events:none;}\", \" \", \";\"], (0, _constants.get)('colors.blue.5'), (0, _constants.get)('fontSizes.1'), (0, _constants.get)('colors.gray.7'), _constants.COMMON, _sx[\"default\"]);\nBreadcrumb.defaultProps = {\n  theme: _theme[\"default\"]\n};\nBreadcrumb.propTypes = (0, _objectSpread2[\"default\"])({}, _constants.COMMON.propTypes, {}, _sx[\"default\"].propTypes);\nBreadcrumb.displayName = 'Breadcrumb';\nBreadcrumb.Item.defaultProps = {\n  theme: _theme[\"default\"]\n};\nBreadcrumb.Item.propTypes = (0, _objectSpread2[\"default\"])({\n  as: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].elementType]),\n  href: _propTypes[\"default\"].string,\n  selected: _propTypes[\"default\"].bool\n}, _sx[\"default\"].propTypes, {}, _constants.COMMON.propTypes);\nBreadcrumb.Item.displayName = 'Breadcrumb.Item';\nvar _default = Breadcrumb;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _Button = _interopRequireDefault(require(\"./Button\"));\n\nvar _Details = _interopRequireDefault(require(\"./Details\"));\n\nvar _constants = require(\"./constants\");\n\nvar _DropdownStyles = _interopRequireDefault(require(\"./DropdownStyles\"));\n\nvar _theme = _interopRequireDefault(require(\"./theme\"));\n\nvar _sx = _interopRequireDefault(require(\"./sx\"));\n\nvar StyledDetails = (0, _styledComponents[\"default\"])(_Details[\"default\"]).withConfig({\n  displayName: \"Dropdown__StyledDetails\",\n  componentId: \"sc-3wysgd-0\"\n})([\"position:relative;display:inline-block;\"]);\n\nvar Dropdown = function Dropdown(_ref) {\n  var children = _ref.children,\n      className = _ref.className,\n      rest = (0, _objectWithoutProperties2[\"default\"])(_ref, [\"children\", \"className\"]);\n  return /*#__PURE__*/_react[\"default\"].createElement(StyledDetails, (0, _extends2[\"default\"])({\n    overlay: true,\n    className: className\n  }, rest), children);\n};\n\nDropdown.displayName = \"Dropdown\";\n\nDropdown.Button = function (_ref2) {\n  var children = _ref2.children,\n      rest = (0, _objectWithoutProperties2[\"default\"])(_ref2, [\"children\"]);\n  return /*#__PURE__*/_react[\"default\"].createElement(_Button[\"default\"], (0, _extends2[\"default\"])({\n    as: \"summary\",\n    \"aria-haspopup\": \"true\"\n  }, rest), children, /*#__PURE__*/_react[\"default\"].createElement(Dropdown.Caret, null));\n};\n\nDropdown.Caret = _styledComponents[\"default\"].div.withConfig({\n  displayName: \"Dropdown__Caret\",\n  componentId: \"sc-3wysgd-1\"\n})([\"border:4px solid transparent;margin-left:12px;border-top-color:currentcolor;border-bottom-width:0;content:'';display:inline-block;height:0;vertical-align:middle;width:0;\", \";\", \";\"], _constants.COMMON, _sx[\"default\"]);\nDropdown.Menu = _styledComponents[\"default\"].ul.withConfig({\n  displayName: \"Dropdown__Menu\",\n  componentId: \"sc-3wysgd-2\"\n})([\"background-clip:padding-box;background-color:\", \";border:1px solid rgba(27,31,35,0.15);border-radius:\", \";box-shadow:0 3px 12px rgba(27,31,35,0.15);left:0;list-style:none;margin-top:2px;padding:5px 0 5px 0 !important;position:absolute;top:100%;width:160px;z-index:100;&::before{position:absolute;display:inline-block;content:'';}&::after{position:absolute;display:inline-block;content:'';}&::before{border:8px solid transparent;border-bottom-color:\", \";}&::after{border:7px solid transparent;border-bottom-color:\", \";}> ul{list-style:none;}\", \";\", \";\", \";\"], (0, _constants.get)('colors.white'), (0, _constants.get)('radii.2'), (0, _constants.get)('colors.blackfade15'), (0, _constants.get)('colors.white'), function (props) {\n  return props.direction ? (0, _DropdownStyles[\"default\"])(props.theme, props.direction) : '';\n}, _constants.COMMON, _sx[\"default\"]);\nDropdown.Item = _styledComponents[\"default\"].li.withConfig({\n  displayName: \"Dropdown__Item\",\n  componentId: \"sc-3wysgd-3\"\n})([\"display:block;padding:\", \" 10px \", \" 15px;overflow:hidden;color:\", \";text-overflow:ellipsis;white-space:nowrap;a{color:\", \";text-decoration:none;display:block;padding:\", \" 10px \", \" 15px;overflow:hidden;color:\", \";text-overflow:ellipsis;white-space:nowrap;}&:focus,a:focus{color:\", \";text-decoration:none;background-color:\", \";}&:hover,&:hover a{color:\", \";text-decoration:none;background-color:\", \";outline:none;}\", \";\", \";\"], (0, _constants.get)('space.1'), (0, _constants.get)('space.1'), (0, _constants.get)('colors.gray.9'), (0, _constants.get)('colors.gray.9'), (0, _constants.get)('space.1'), (0, _constants.get)('space.1'), (0, _constants.get)('colors.gray.9'), (0, _constants.get)('colors.white'), (0, _constants.get)('colors.blue.5'), (0, _constants.get)('colors.white'), (0, _constants.get)('colors.blue.5'), _constants.COMMON, _sx[\"default\"]);\nDropdown.Menu.propTypes = (0, _objectSpread2[\"default\"])({\n  direction: _propTypes[\"default\"].oneOf(['ne', 'e', 'se', 's', 'sw', 'w'])\n}, _constants.COMMON.propTypes, {}, _sx[\"default\"].propTypes);\nDropdown.Menu.defaultProps = {\n  direction: 'sw',\n  theme: _theme[\"default\"]\n};\nDropdown.Menu.displayName = 'Dropdown.Menu';\nDropdown.Item.defaultProps = {\n  theme: _theme[\"default\"]\n};\nDropdown.Item.propTypes = (0, _objectSpread2[\"default\"])({}, _constants.COMMON.propTypes, {}, _sx[\"default\"].propTypes);\nDropdown.Item.displayName = 'Dropdown.Item';\nDropdown.Button.defaultProps = (0, _objectSpread2[\"default\"])({\n  theme: _theme[\"default\"]\n}, _Button[\"default\"].defaultProps);\nDropdown.Button.propTypes = (0, _objectSpread2[\"default\"])({}, _Button[\"default\"].propTypes);\nDropdown.Button.displayName = 'Dropdown.Button';\nDropdown.Caret.defaultProps = {\n  theme: _theme[\"default\"]\n};\nDropdown.Caret.propTypes = (0, _objectSpread2[\"default\"])({}, _constants.COMMON.propTypes, {}, _sx[\"default\"].propTypes);\nDropdown.Caret.displayName = 'Dropdown.Caret';\nDropdown.defaultProps = (0, _objectSpread2[\"default\"])({\n  theme: _theme[\"default\"]\n}, _Details[\"default\"].defaultProps);\nDropdown.propTypes = (0, _objectSpread2[\"default\"])({}, _Details[\"default\"].propTypes, {}, _constants.COMMON.propTypes);\nvar _default = Dropdown;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _constants = require(\"./constants\");\n\nvar _theme = _interopRequireDefault(require(\"./theme\"));\n\nvar _sx = _interopRequireDefault(require(\"./sx\"));\n\n// The <details> element is not yet supported in Edge so we have to use a polyfill.\n// We have to check if window is defined before importing the polyfill\n// so the code doesnt run while pages build\n// uses require because of primer/components issue #638\nif (typeof window !== 'undefined') {\n  require('details-element-polyfill');\n}\n\nvar StyledDetails = (0, _styledComponents[\"default\"])('details').withConfig({\n  displayName: \"Details__StyledDetails\",\n  componentId: \"sc-1uozfty-0\"\n})([\"& > summary{list-style:none;}& > summary::-webkit-details-marker{display:none;}\", \" \", \";\"], _constants.COMMON, _sx[\"default\"]);\n\nfunction getRenderer(children) {\n  return typeof children === 'function' ? children : function () {\n    return children;\n  };\n}\n\nfunction Details(_ref) {\n  var children = _ref.children,\n      overlay = _ref.overlay,\n      _ref$render = _ref.render,\n      render = _ref$render === void 0 ? getRenderer(children) : _ref$render,\n      userOpen = _ref.open,\n      onClickOutside = _ref.onClickOutside,\n      onToggle = _ref.onToggle,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      rest = (0, _objectWithoutProperties2[\"default\"])(_ref, [\"children\", \"overlay\", \"render\", \"open\", \"onClickOutside\", \"onToggle\", \"defaultOpen\"]);\n\n  var _useState = (0, _react.useState)(defaultOpen),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      internalOpen = _useState2[0],\n      setInternalOpen = _useState2[1];\n\n  var ref = (0, _react.useRef)(null); // only use internal open state if user doesn't provide a value for the open prop\n\n  var open = typeof userOpen !== 'undefined' ? userOpen : internalOpen;\n  var onClickOutsideInternal = (0, _react.useCallback)(function (event) {\n    if (event.target.closest('details') !== ref.current) {\n      onClickOutside && onClickOutside(event);\n\n      if (!event.defaultPrevented) {\n        setInternalOpen(false);\n      }\n    }\n  }, [ref, onClickOutside, setInternalOpen]); // handles the overlay behavior - closing the menu when clicking outside of it\n\n  (0, _react.useEffect)(function () {\n    if (open && overlay) {\n      document.addEventListener('click', onClickOutsideInternal);\n      return function () {\n        document.removeEventListener('click', onClickOutsideInternal);\n      };\n    }\n  }, [open, overlay, onClickOutsideInternal]);\n\n  function handleToggle(e) {\n    onToggle && onToggle(e);\n\n    if (!e.defaultPrevented) {\n      setInternalOpen(e.target.open);\n    }\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(StyledDetails, (0, _extends2[\"default\"])({}, rest, {\n    ref: ref,\n    open: open,\n    onToggle: handleToggle,\n    overlay: overlay\n  }), render({\n    open: open\n  }));\n}\n\nDetails.displayName = \"Details\";\nDetails.defaultProps = {\n  theme: _theme[\"default\"],\n  overlay: false\n};\nDetails.propTypes = (0, _objectSpread2[\"default\"])({\n  children: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].node, _propTypes[\"default\"].func]),\n  className: _propTypes[\"default\"].string,\n  defaultOpen: _propTypes[\"default\"].bool,\n  overlay: _propTypes[\"default\"].bool,\n  render: _propTypes[\"default\"].func,\n  theme: _propTypes[\"default\"].object\n}, _constants.COMMON.propTypes, {}, _sx[\"default\"].propTypes);\nvar _default = Details;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _constants = require(\"./constants\");\n\nvar getDirectionStyles = function getDirectionStyles(theme, direction) {\n  var map = {\n    w: \"\\n      top: 0;\\n      right: 100%;\\n      left: auto;\\n      width: auto;\\n      margin-top: 0;\\n      margin-right: 10px;\\n\\n      &::before {\\n        top: 10px;\\n        right: -16px;\\n        left: auto;\\n        border-color: transparent;\\n        border-left-color: \".concat((0, _constants.get)('colors.blackfade15')(theme), \";\\n      }\\n\\n      &::after {\\n        top: 11px;\\n        right: -14px;\\n        left: auto;\\n        border-color: transparent;\\n        border-left-color: \").concat((0, _constants.get)('colors.white')(theme), \";\\n      }\\n    \"),\n    e: \"\\n      top: 0;\\n      left: 100%;\\n      width: auto;\\n      margin-top: 0;\\n      margin-left: 10px;\\n\\n      &::before {\\n        top: 10px;\\n        left: -16px;\\n        border-color: transparent;\\n        border-right-color: \".concat((0, _constants.get)('colors.blackfade15')(theme), \";\\n      }\\n\\n      &::after {\\n        top: 11px;\\n        left: -14px;\\n        border-color: transparent;\\n        border-right-color: \").concat((0, _constants.get)('colors.white')(theme), \";\\n      }\\n    \"),\n    ne: \"\\n      top: auto;\\n      bottom: 100%;\\n      left: 0;\\n      margin-bottom: 3px;\\n\\n      &::before,\\n      &::after {\\n        top: auto;\\n        right: auto;\\n      }\\n\\n      &::before {\\n        bottom: -8px;\\n        left: 9px;\\n        border-top: 8px solid \".concat((0, _constants.get)('colors.blackfade15')(theme), \";\\n        border-bottom: 0;\\n        border-left: 8px solid transparent;\\n      }\\n\\n      &::after {\\n        bottom: -7px;\\n        left: 10px;\\n        border-top: 7px solid \").concat((0, _constants.get)('colors.white')(theme), \";\\n        border-right: 7px solid transparent;\\n        border-bottom: 0;\\n        border-left: 7px solid transparent;\\n      }\\n    \"),\n    s: \"\\n      right: 50%;\\n      left: auto;\\n      transform: translateX(50%);\\n\\n      &::before {\\n        top: -16px;\\n        right: 50%;\\n        transform: translateX(50%);\\n      }\\n\\n      &::after {\\n        top: -14px;\\n        right: 50%;\\n        transform: translateX(50%);\\n      }\\n    \",\n    sw: \"\\n      right: 0;\\n      left: auto;\\n\\n      &::before {\\n        top: -16px;\\n        right: 9px;\\n        left: auto;\\n      }\\n\\n      &::after {\\n        top: -14px;\\n        right: 10px;\\n        left: auto;\\n      }\\n    \",\n    se: \"\\n      &::before {\\n        top: -16px;\\n        left: 9px;\\n      }\\n\\n      &::after {\\n        top: -14px;\\n        left: 10px;\\n      }\\n    \"\n  };\n  return map[direction];\n};\n\nvar _default = getDirectionStyles;\nexports[\"default\"] = _default;","import {COLORS, D3_TRANSITION_DURATION, NUM_BARS_STATEPAGE} from '../constants';\nimport {\n  formatDate,\n  formatNumber,\n  getIndiaYesterdayISO,\n  getStatistic,\n} from '../utils/commonfunctions';\n\nimport * as d3 from 'd3';\nimport equal from 'fast-deep-equal';\nimport React, {useEffect, useRef} from 'react';\n\nconst getDeltaStatistic = (data, statistic) => {\n  return getStatistic(data, 'delta', statistic);\n};\n\nconst [width, height] = [250, 250];\nconst margin = {top: 50, right: 0, bottom: 50, left: 0};\n\nfunction DeltaBarGraph({timeseries, statistic}) {\n  const svgRef = useRef();\n\n  const pastDates = Object.keys(timeseries || {}).filter(\n    (date) => date <= getIndiaYesterdayISO()\n  );\n  const dates = pastDates.slice(-NUM_BARS_STATEPAGE);\n\n  useEffect(() => {\n    const svg = d3.select(svgRef.current);\n\n    const chartRight = width - margin.right;\n    const chartBottom = height - margin.bottom;\n    const r = 5;\n\n    // const formatTime = d3.timeFormat('%e %b');\n    const xScale = d3\n      .scaleBand()\n      .domain(dates)\n      .range([margin.left, chartRight])\n      .paddingInner(0.33);\n\n    const yScale = d3\n      .scaleLinear()\n      .domain([\n        Math.min(\n          0,\n          d3.min(dates, (date) =>\n            getDeltaStatistic(timeseries[date], statistic)\n          )\n        ),\n        Math.max(\n          1,\n          d3.max(dates, (date) =>\n            getDeltaStatistic(timeseries[date], statistic)\n          )\n        ),\n      ])\n      .range([chartBottom, margin.top]);\n\n    const xAxis = d3\n      .axisBottom(xScale)\n      .tickSize(0)\n      .tickFormat((date) => formatDate(date, 'dd MMM'));\n\n    const t = svg.transition().duration(D3_TRANSITION_DURATION);\n    svg\n      .select('.x-axis')\n      .transition(t)\n      .style('transform', `translateY(${yScale(0)}px)`)\n      .call(xAxis)\n      .on('start', () => svg.select('.domain').remove())\n      .selectAll('text')\n      .attr('y', 0)\n      .attr('dy', (date, i) =>\n        getDeltaStatistic(timeseries[date], statistic) < 0 ? '-1em' : '1.5em'\n      )\n      .style('text-anchor', 'middle')\n      .attr('fill', COLORS[statistic]);\n\n    svg\n      .selectAll('.bar')\n      .data(dates)\n      .join((enter) =>\n        enter\n          .append('path')\n          .attr('class', 'bar')\n          .attr('d', (date) =>\n            roundedBar(xScale(date), yScale(0), xScale.bandwidth(), 0, r)\n          )\n      )\n      .transition(t)\n      .attr('d', (date) =>\n        roundedBar(\n          xScale(date),\n          yScale(0),\n          xScale.bandwidth(),\n          yScale(0) - yScale(getDeltaStatistic(timeseries[date], statistic)),\n          r\n        )\n      )\n      .attr('fill', (date, i) => {\n        return i < date.length - 1\n          ? COLORS[statistic] + '90'\n          : COLORS[statistic];\n      });\n\n    const textSelection = svg\n      .selectAll('.label')\n      .data(dates)\n      .join('text')\n      .attr('class', 'label')\n      .attr('x', (date) => xScale(date) + xScale.bandwidth() / 2)\n      .text((date) =>\n        formatNumber(getDeltaStatistic(timeseries[date], statistic))\n      );\n\n    textSelection\n      .transition(t)\n      .attr('fill', COLORS[statistic])\n      .attr('y', (date) => {\n        const val = getDeltaStatistic(timeseries[date], statistic);\n        return yScale(val) + (val < 0 ? 15 : -6);\n      });\n\n    textSelection\n      .append('tspan')\n      .attr(\n        'dy',\n        (date) =>\n          `${getDeltaStatistic(timeseries[date], statistic) < 0 ? 1.2 : -1.2}em`\n      )\n      .attr('x', (date) => xScale(date) + xScale.bandwidth() / 2)\n      .text((date, i) => {\n        if (i === 0) return '';\n        const prevVal = getDeltaStatistic(timeseries[dates[i - 1]], statistic);\n        if (!prevVal) return '';\n        const delta = getDeltaStatistic(timeseries[date], statistic) - prevVal;\n        return `${delta > 0 ? '+' : ''}${formatNumber(\n          (100 * delta) / Math.abs(prevVal)\n        )}%`;\n      })\n      .transition(t)\n      .attr('fill', COLORS[statistic] + '90');\n  }, [dates, timeseries, statistic]);\n\n  return (\n    <div className=\"DeltaBarGraph\">\n      <svg\n        ref={svgRef}\n        width=\"250\"\n        height=\"250\"\n        viewBox=\"0 0 250 250\"\n        preserveAspectRatio=\"xMidYMid meet\"\n      >\n        <g\n          className=\"x-axis\"\n          transform={`translate(0, ${height - margin.bottom})`}\n        />\n        <g className=\"y-axis\" />\n      </svg>\n    </div>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (!equal(prevProps.statistic, currProps.statistic)) return false;\n  return true;\n};\n\nexport default React.memo(DeltaBarGraph, isEqual);\n\nfunction roundedBar(x, y, w, h, r) {\n  r = Math.sign(h) * Math.min(Math.abs(h), r);\n  const paths = [\n    `M ${x} ${y}`,\n    `v ${-h + r}`,\n    `q 0 ${-r} ${Math.abs(r)} ${-r}`,\n    `h ${w - 2 * Math.abs(r)}`,\n    `q ${Math.abs(r)} 0 ${Math.abs(r)} ${r}`,\n    `v ${h - r}`,\n    'Z',\n  ];\n  return paths.join(' ');\n}\n","import Tooltip from './tooltip';\n\nimport React from 'react';\nimport * as Icon from 'react-feather';\n\nfunction StateMetaCard({\n  title,\n  statistic,\n  total,\n  formula,\n  date,\n  description,\n  className,\n}) {\n  return (\n    <div className={`meta-item ${className}`}>\n      <div className=\"meta-item-top\">\n        <h3>{title}</h3>\n        <Tooltip {...{data: formula}}>\n          <Icon.Info />\n        </Tooltip>\n      </div>\n      <h1>{statistic}</h1>\n      <h5>{date}</h5>\n      {total && <h5>{`India has ${total} CPM`}</h5>}\n      <p>{description}</p>\n    </div>\n  );\n}\n\nexport default StateMetaCard;\n","import StateMetaCard from './statemetacard';\n\nimport {\n  STATE_NAMES,\n  STATE_POPULATIONS,\n  STATE_POPULATIONS_MIL,\n} from '../constants';\nimport {\n  formatDate,\n  formatNumber,\n  formatLastUpdated,\n  getStatistic,\n  getIndiaDate,\n} from '../utils/commonfunctions';\n\nimport {format, sub} from 'date-fns';\nimport React from 'react';\nimport * as Icon from 'react-feather';\n\nfunction StateMeta({stateCode, data, timeseries}) {\n  const confirmed = getStatistic(data[stateCode], 'total', 'confirmed');\n  const active = getStatistic(data[stateCode], 'total', 'active');\n  const deceased = getStatistic(data[stateCode], 'total', 'deceased');\n  const recovered = getStatistic(data[stateCode], 'total', 'recovered');\n  const tested = getStatistic(data[stateCode], 'total', 'tested');\n\n  const totalConfirmed = getStatistic(data['TT'], 'total', 'confirmed');\n\n  const indiaDate = format(getIndiaDate(), 'yyyy-MM-dd');\n  const prevWeekDate = format(sub(getIndiaDate(), {weeks: 1}), 'yyyy-MM-dd');\n\n  const prevWeekConfirmed = getStatistic(\n    timeseries[stateCode]?.[prevWeekDate],\n    'total',\n    'confirmed'\n  );\n\n  const confirmedPerMillion = confirmed / STATE_POPULATIONS_MIL[stateCode];\n  const testPerMillion = tested / STATE_POPULATIONS_MIL[stateCode];\n  const totalConfirmedPerMillion = totalConfirmed / STATE_POPULATIONS_MIL['TT'];\n\n  const recoveryPercent = (recovered / confirmed) * 100;\n  const activePercent = (active / confirmed) * 100;\n  const deathPercent = (deceased / confirmed) * 100;\n\n  const growthRate =\n    ((confirmed - prevWeekConfirmed) / prevWeekConfirmed) * 100;\n\n  return (\n    <React.Fragment>\n      <div className=\"StateMeta population\">\n        <div className=\"meta-item population fadeInUp\">\n          <h3>Population</h3>\n          <h1>{formatNumber(STATE_POPULATIONS[stateCode])}</h1>\n        </div>\n        <div className=\"alert\">\n          <Icon.Compass />\n          <div className=\"alert-right\">\n            Based on 2019 population projection by NCP{' '}\n            <a\n              href=\"https://nhm.gov.in/New_Updates_2018/Report_Population_Projection_2019.pdf\"\n              target=\"_noblank\"\n            >\n              report\n            </a>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"StateMeta\">\n        <StateMetaCard\n          className=\"confirmed\"\n          title={'Confirmed Per Million'}\n          statistic={formatNumber(confirmedPerMillion)}\n          total={formatNumber(totalConfirmedPerMillion)}\n          formula={'(confirmed / state population) * 1 Million'}\n          description={`\n            ${formatNumber(\n              Math.round(confirmedPerMillion)\n            )} out of every 1 million people in ${\n            STATE_NAMES[stateCode]\n          } have tested positive for the virus.\n            `}\n        />\n\n        <StateMetaCard\n          className=\"active\"\n          title={'Active'}\n          statistic={`${formatNumber(activePercent)}%`}\n          formula={'(active / confirmed) * 100'}\n          description={\n            activePercent > 0\n              ? `For every 100 confirmed cases, ${formatNumber(\n                  Math.round(activePercent)\n                )} are currently infected.`\n              : 'Currently, there are no active cases in this state.'\n          }\n        />\n\n        <StateMetaCard\n          className=\"recovery\"\n          title={'Recovery Rate'}\n          statistic={`${formatNumber(recoveryPercent)}%`}\n          formula={'(recovered / confirmed) * 100'}\n          description={\n            recoveryPercent > 0\n              ? `For every 100 confirmed cases, ${formatNumber(\n                  Math.round(recoveryPercent)\n                )} have recovered from the virus.`\n              : 'Unfortunately, there are no recoveries in this state yet.'\n          }\n        />\n\n        <StateMetaCard\n          className=\"mortality\"\n          title={'Mortality Rate'}\n          statistic={`${formatNumber(deathPercent)}%`}\n          formula={'(deceased / confirmed) * 100'}\n          description={\n            deathPercent > 0\n              ? `For every 100 confirmed cases, ${formatNumber(\n                  Math.round(deathPercent)\n                )} have unfortunately passed away from the virus.`\n              : 'Fortunately, no one has passed away from the virus in this state.'\n          }\n        />\n\n        <StateMetaCard\n          className=\"gr\"\n          title={'Avg. Growth Rate'}\n          statistic={\n            growthRate > 0\n              ? `${formatNumber(Math.round(growthRate / 7))}%`\n              : '-'\n          }\n          formula={\n            '(((previousDayData - sevenDayBeforeData) / sevenDayBeforeData) * 100)/7'\n          }\n          date={`${formatDate(prevWeekDate, 'dd MMM')} - ${formatDate(\n            indiaDate,\n            'dd MMM'\n          )}`}\n          description={\n            growthRate > 0\n              ? `In the last one week, the number of new infections has\n              grown by an average of ${formatNumber(\n                Math.round(growthRate / 7)\n              )}%\n              every day.`\n              : 'There has been no growth in the number of infections in last one week.'\n          }\n        />\n\n        <StateMetaCard\n          className=\"tpm\"\n          title={'Tests Per Million'}\n          statistic={` ${formatNumber(Math.round(testPerMillion))}`}\n          formula={\n            '(total tests in state / total population of state) * 1 Million'\n          }\n          date={\n            tested\n              ? `As of ${formatLastUpdated(\n                  data[stateCode]?.meta?.tested?.['last_updated']\n                )} ago`\n              : ''\n          }\n          description={\n            testPerMillion > 0\n              ? `For every 1 million people in ${STATE_NAMES[stateCode]},\n                ${formatNumber(Math.round(testPerMillion))} people were tested.`\n              : 'No tests have been conducted in this state yet.'\n          }\n        />\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default StateMeta;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Smile = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 14s1.5 2 4 2 4-2 4-2\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"9\",\n    y1: \"9\",\n    x2: \"9.01\",\n    y2: \"9\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"15\",\n    y1: \"9\",\n    x2: \"15.01\",\n    y2: \"9\"\n  }));\n});\nSmile.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nSmile.displayName = 'Smile';\nexport default Smile;","import DeltaBarGraph from './deltabargraph';\nimport Footer from './footer';\nimport Level from './level';\nimport MapExplorer from './mapexplorer';\nimport Minigraph from './minigraph';\nimport StateMeta from './statemeta';\nimport TimeSeriesExplorer from './timeseriesexplorer';\n\nimport {MAP_META, NUM_BARS_STATEPAGE, STATE_NAMES} from '../constants';\nimport {\n  fetcher,\n  formatDate,\n  formatNumber,\n  getStatistic,\n} from '../utils/commonfunctions';\n\nimport Breadcrumb from '@primer/components/lib/Breadcrumb';\nimport Dropdown from '@primer/components/lib/Dropdown';\nimport anime from 'animejs';\nimport equal from 'fast-deep-equal';\nimport React, {useState, useMemo} from 'react';\nimport * as Icon from 'react-feather';\nimport {Helmet} from 'react-helmet';\nimport {useTranslation} from 'react-i18next';\nimport {Link, useParams, Redirect} from 'react-router-dom';\nimport {useMeasure, useEffectOnce} from 'react-use';\nimport useSWR from 'swr';\n\nfunction PureBreadcrumbs({selectedStateCode, stateCodes}) {\n  const {t} = useTranslation();\n\n  return (\n    <div className=\"breadcrumb\">\n      <Breadcrumb>\n        <Breadcrumb.Item href=\"/\">{t('Home')}</Breadcrumb.Item>\n        <Dropdown direction=\"w\">\n          <summary>\n            <Breadcrumb.Item href={`${selectedStateCode}`} selected>\n              {t(STATE_NAMES[selectedStateCode])}\n            </Breadcrumb.Item>\n            <Dropdown.Caret className=\"caret\" />\n          </summary>\n          <Dropdown.Menu direction=\"se\">\n            {stateCodes.map((stateCode) => (\n              <Dropdown.Item key={stateCode} className=\"item\">\n                <Link to={`${stateCode}`}>{t(STATE_NAMES[stateCode])}</Link>\n              </Dropdown.Item>\n            ))}\n          </Dropdown.Menu>\n        </Dropdown>\n      </Breadcrumb>\n    </div>\n  );\n}\n\nconst isEqualBreadcrumbs = (prevProps, currProps) => {\n  if (!equal(prevProps.selectedStateCode, currProps.selectedStateCode)) {\n    return false;\n  } else if (!equal(prevProps.stateCodes, currProps.stateCodes)) {\n    return false;\n  } else return true;\n};\n\nconst Breadcrumbs = React.memo(PureBreadcrumbs, isEqualBreadcrumbs);\n\nfunction State(props) {\n  const stateCode = useParams().stateCode.toUpperCase();\n  const stateName = STATE_NAMES[stateCode];\n\n  const [mapStatistic, setMapStatistic] = useState('confirmed');\n  const [mapSwitcher, {width}] = useMeasure();\n  const [showAllDistricts, setShowAllDistricts] = useState(false);\n  const [regionHighlighted, setRegionHighlighted] = useState({\n    stateCode: stateCode,\n    districtName: null,\n  });\n\n  const {t} = useTranslation();\n\n  useEffectOnce(() => {\n    anime({\n      targets: '.highlight',\n      duration: 200,\n      delay: 500,\n      translateX:\n        mapStatistic === 'confirmed'\n          ? `${width * 0}px`\n          : mapStatistic === 'active'\n          ? `${width * 0.25}px`\n          : mapStatistic === 'recovered'\n          ? `${width * 0.5}px`\n          : mapStatistic === 'deceased'\n          ? `${width * 0.75}px`\n          : '0px',\n      easing: 'spring(1, 80, 90, 10)',\n      opacity: 1,\n    });\n  });\n\n  const {data: timeseries} = useSWR(\n    'https://api.covid19india.org/v3/min/timeseries.min.json',\n    fetcher,\n    {\n      suspense: true,\n      revalidateOnFocus: false,\n    }\n  );\n\n  const {data} = useSWR(\n    'https://api.covid19india.org/v3/min/data.min.json',\n    fetcher,\n    {\n      suspense: true,\n      revalidateOnMount: true,\n      refreshInterval: 100000,\n      revalidateOnFocus: false,\n    }\n  );\n\n  const toggleShowAllDistricts = () => {\n    setShowAllDistricts(!showAllDistricts);\n  };\n\n  const handleSort = (districtNameA, districtNameB) => {\n    const districtA = data[stateCode].districts[districtNameA];\n    const districtB = data[stateCode].districts[districtNameB];\n    return (\n      getStatistic(districtB, 'total', mapStatistic) -\n      getStatistic(districtA, 'total', mapStatistic)\n    );\n  };\n\n  const gridRowCount = useMemo(() => {\n    const gridColumnCount = window.innerWidth >= 540 ? 3 : 2;\n    const districtCount = data[stateCode]?.districts\n      ? Object.keys(data[stateCode].districts).length\n      : 0;\n    const gridRowCount = Math.ceil(districtCount / gridColumnCount);\n    return gridRowCount;\n  }, [data, stateCode]);\n\n  if (!stateName) {\n    return <Redirect to=\"/\" />;\n  } else {\n    return (\n      <React.Fragment>\n        <Helmet>\n          <title>\n            Coronavirus Outbreak in {STATE_NAMES[stateCode]} - covid19india.org\n          </title>\n          <meta\n            name=\"title\"\n            content={`Coronavirus Outbreak in ${STATE_NAMES[stateCode]}: Latest Map and Case Count`}\n          />\n        </Helmet>\n\n        <div className=\"State\">\n          <div className=\"state-left\">\n            <Breadcrumbs\n              selectedStateCode={stateCode}\n              stateCodes={Object.keys(data).filter(\n                (stateCode) =>\n                  stateCode !== 'TT' &&\n                  Object.keys(MAP_META).includes(stateCode)\n              )}\n            />\n\n            <div className=\"header\">\n              <div className=\"header-left\">\n                <h1>{t(stateName)}</h1>\n                <h5>{`Last Updated on ${formatDate(\n                  data[stateCode].meta.last_updated,\n                  'dd MMM, p'\n                )} IST`}</h5>\n              </div>\n\n              <div className=\"header-right\">\n                <h5>{t('Tested')}</h5>\n                {data[stateCode]?.total?.tested && (\n                  <React.Fragment>\n                    <h2>{formatNumber(data[stateCode].total.tested)}</h2>\n                    <h5 className=\"timestamp\">\n                      {`As of ${formatDate(\n                        data[stateCode].meta.tested.last_updated,\n                        'dd MMMM'\n                      )}`}\n                    </h5>\n                    <h5>\n                      {'per '}\n                      <a\n                        href={data[stateCode].meta.tested.source}\n                        target=\"_noblank\"\n                      >\n                        source\n                      </a>\n                    </h5>\n                  </React.Fragment>\n                )}\n              </div>\n            </div>\n\n            <div className=\"map-switcher\" ref={mapSwitcher}>\n              <div\n                className={`highlight ${mapStatistic}`}\n                style={{\n                  transform: `translateX(${width * 0}px)`,\n                  opacity: 0,\n                }}\n              ></div>\n              <div\n                className=\"clickable\"\n                onClick={() => {\n                  setMapStatistic('confirmed');\n                  anime({\n                    targets: '.highlight',\n                    translateX: `${width * 0}px`,\n                    easing: 'spring(1, 80, 90, 10)',\n                  });\n                }}\n              ></div>\n              <div\n                className=\"clickable\"\n                onClick={() => {\n                  setMapStatistic('active');\n                  anime({\n                    targets: '.highlight',\n                    translateX: `${width * 0.25}px`,\n                    easing: 'spring(1, 80, 90, 10)',\n                  });\n                }}\n              ></div>\n              <div\n                className=\"clickable\"\n                onClick={() => {\n                  setMapStatistic('recovered');\n                  anime({\n                    targets: '.highlight',\n                    translateX: `${width * 0.5}px`,\n                    easing: 'spring(1, 80, 90, 10)',\n                  });\n                }}\n              ></div>\n              <div\n                className=\"clickable\"\n                onClick={() => {\n                  setMapStatistic('deceased');\n                  anime({\n                    targets: '.highlight',\n                    translateX: `${width * 0.75}px`,\n                    easing: 'spring(1, 80, 90, 10)',\n                  });\n                }}\n              ></div>\n            </div>\n\n            <Level data={data[stateCode]} />\n            <Minigraph timeseries={timeseries[stateCode]} />\n\n            <MapExplorer\n              isCountryLoaded={false}\n              {...{\n                stateCode,\n                data,\n                regionHighlighted,\n                setRegionHighlighted,\n                mapStatistic,\n                setMapStatistic,\n              }}\n            />\n\n            <StateMeta\n              {...{\n                stateCode,\n                data,\n                timeseries,\n              }}\n            />\n          </div>\n\n          <div className=\"state-right\">\n            <React.Fragment>\n              <div\n                className=\"district-bar\"\n                style={!showAllDistricts ? {display: 'flex'} : {}}\n              >\n                <div className=\"district-bar-left fadeInUp\">\n                  <h2 className={mapStatistic}>Top districts</h2>\n                  <div\n                    className={`districts ${showAllDistricts ? 'is-grid' : ''}`}\n                    style={\n                      showAllDistricts\n                        ? {gridTemplateRows: `repeat(${gridRowCount}, 2rem)`}\n                        : {}\n                    }\n                  >\n                    {Object.keys(data[stateCode]?.districts || {})\n                      .filter((districtName) => districtName !== 'Unknown')\n                      .sort((a, b) => handleSort(a, b))\n                      .slice(0, showAllDistricts ? undefined : 5)\n                      .map((districtName) => {\n                        const total = getStatistic(\n                          data[stateCode].districts[districtName],\n                          'total',\n                          mapStatistic\n                        );\n                        const delta = getStatistic(\n                          data[stateCode].districts[districtName],\n                          'delta',\n                          mapStatistic\n                        );\n                        return (\n                          <div key={districtName} className=\"district\">\n                            <h2>{formatNumber(total)}</h2>\n                            <h5>{t(districtName)}</h5>\n                            {mapStatistic !== 'active' && (\n                              <div className=\"delta\">\n                                <h6 className={mapStatistic}>\n                                  {delta > 0\n                                    ? '\\u2191' + formatNumber(delta)\n                                    : ''}\n                                </h6>\n                              </div>\n                            )}\n                          </div>\n                        );\n                      })}\n                  </div>\n\n                  {Object.keys(data[stateCode]?.districts || {}).length > 5 && (\n                    <button className=\"button\" onClick={toggleShowAllDistricts}>\n                      <span>{showAllDistricts ? `View less` : `View all`}</span>\n                    </button>\n                  )}\n                </div>\n\n                <div className=\"district-bar-right\">\n                  {(mapStatistic === 'confirmed' ||\n                    mapStatistic === 'deceased') && (\n                    <div className=\"happy-sign\">\n                      {Object.keys(timeseries[stateCode] || {})\n                        .slice(-NUM_BARS_STATEPAGE)\n                        .every(\n                          (date) =>\n                            getStatistic(\n                              timeseries[stateCode][date],\n                              'delta',\n                              mapStatistic\n                            ) === 0\n                        ) && (\n                        <div\n                          className={`alert ${\n                            mapStatistic === 'confirmed' ? 'is-green' : ''\n                          }`}\n                        >\n                          <Icon.Smile />\n                          <div className=\"alert-right\">\n                            No new {mapStatistic} cases in the past five days\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  )}\n                  <DeltaBarGraph\n                    timeseries={timeseries[stateCode]}\n                    statistic={mapStatistic}\n                  />\n                </div>\n              </div>\n\n              <TimeSeriesExplorer\n                timeseries={timeseries[stateCode]}\n                {...{regionHighlighted, setRegionHighlighted}}\n              />\n            </React.Fragment>\n          </div>\n        </div>\n        <Footer />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default React.memo(State);\n"],"sourceRoot":""}