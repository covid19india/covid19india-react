{"version":3,"sources":["../node_modules/react-use/esm/useIsomorphicLayoutEffect.js","../node_modules/react-use/esm/useMeasure.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-axis/src/array.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js","../node_modules/d3-selection/src/pointer.js","../node_modules/d3-shape/src/area.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-brush/src/constant.js","../node_modules/d3-brush/src/event.js","../node_modules/d3-brush/src/noevent.js","../node_modules/d3-brush/src/brush.js","../node_modules/d3-selection/src/pointers.js","../node_modules/d3-shape/src/offset/none.js","../node_modules/d3-shape/src/order/none.js","../node_modules/d3-shape/src/stack.js"],"names":["useIsomorphicLayoutEffect","isBrowser","useLayoutEffect","useEffect","defaultState","x","y","width","height","top","left","bottom","right","window","ResizeObserver","_a","useState","element","ref","_b","rect","setRect","observer","useMemo","entries","contentRect","top_1","observe","disconnect","noop","event","sourceEvent","slice","Array","prototype","epsilon","translateX","translateY","number","scale","d","center","offset","Math","max","bandwidth","round","entering","this","__axis","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","devicePixelRatio","k","transform","context","values","ticks","apply","domain","format","identity","spacing","range","range0","range1","length","position","copy","selection","path","selectAll","data","tick","order","tickExit","exit","tickEnter","enter","append","attr","line","select","text","merge","insert","transition","isFinite","getAttribute","p","parentNode","remove","filter","each","_","arguments","call","tickSize","axisRight","axisBottom","node","undefined","currentTarget","svg","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","clientLeft","clientTop","pageX","pageY","x0","y0","y1","x1","defined","constant","curve","curveLinear","output","area","i","j","buffer","n","array","defined0","x0z","y0z","areaStart","lineStart","lineEnd","areaEnd","arealine","pointX","pointY","lineX0","lineY0","lineY1","lineX1","preventDefault","stopImmediatePropagation","view","root","document","documentElement","on","noevent","__noselect","style","MozUserSelect","yesdrag","noclick","setTimeout","BrushEvent","type","target","mode","dispatch","Object","defineProperties","value","enumerable","configurable","nopropagation","MODE_DRAG","name","MODE_SPACE","MODE_HANDLE","MODE_CENTER","abs","min","number1","e","number2","X","handles","map","input","xy","Y","cursors","overlay","s","w","nw","ne","se","sw","flipX","flipY","signsX","signsY","t","defaultFilter","ctrlKey","button","defaultExtent","hasAttribute","viewBox","baseVal","defaultTouchable","navigator","maxTouchPoints","local","__brush","empty","extent","brushSelection","state","dim","brushX","brush","touchending","touchable","keys","listeners","handleSize","group","property","initialize","handle","redraw","started","touchmoved","touchended","emitter","that","args","clean","emit","Emitter","active","touches","w0","w1","n0","n1","e0","e1","s0","s1","moving","lockX","lockY","__data__","metaKey","altKey","signX","signY","W","N","E","S","dx","dy","shifting","shiftKey","points","from","identifier","pointer","point0","pts","move","interrupt","beforestart","moved","ended","keydowned","keyupped","dragDisable","start","changedTouches","cur","clearTimeout","dragEnable","end","keyCode","tween","selection0","selection1","interpolate","clear","starting","datum","keyModifiers","events","series","m","isNaN","o","stackValue","key","stackSeries","orderNone","offsetNone","stack","oz","sz","index"],"mappings":"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","file":"static/js/19.1b3b4902.chunk.js","sourcesContent":["import { useEffect, useLayoutEffect } from 'react';\nimport { isBrowser } from './misc/util';\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;\n","import { useMemo, useState } from 'react';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport { isBrowser, noop } from './misc/util';\nvar defaultState = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n};\nfunction useMeasure() {\n    var _a = useState(null), element = _a[0], ref = _a[1];\n    var _b = useState(defaultState), rect = _b[0], setRect = _b[1];\n    var observer = useMemo(function () {\n        return new window.ResizeObserver(function (entries) {\n            if (entries[0]) {\n                var _a = entries[0].contentRect, x = _a.x, y = _a.y, width = _a.width, height = _a.height, top_1 = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n                setRect({ x: x, y: y, width: width, height: height, top: top_1, left: left, bottom: bottom, right: right });\n            }\n        });\n    }, []);\n    useIsomorphicLayoutEffect(function () {\n        if (!element)\n            return;\n        observer.observe(element);\n        return function () {\n            observer.disconnect();\n        };\n    }, [element]);\n    return [ref, rect];\n}\nexport default isBrowser && typeof window.ResizeObserver !== 'undefined'\n    ? useMeasure\n    : (function () { return [noop, defaultState]; });\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array.js\";\nimport identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default x => () => x;\n","export default function BrushEvent(type, {\n  sourceEvent,\n  target,\n  selection,\n  mode,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    selection: {value: selection, enumerable: true, configurable: true},\n    mode: {value: mode, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  brush.clear = function(group) {\n    brush.move(group, null);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move();\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","import pointer from \"./pointer.js\";\nimport sourceEvent from \"./sourceEvent.js\";\n\nexport default function(events, node) {\n  if (events.target) { // i.e., instanceof Event, not TouchList or iterable\n    events = sourceEvent(events);\n    if (node === undefined) node = events.currentTarget;\n    events = events.touches || [events];\n  }\n  return Array.from(events, event => pointer(event, node));\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nfunction stackSeries(key) {\n  const series = [];\n  series.key = key;\n  return series;\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var sz = Array.from(keys.apply(this, arguments), stackSeries),\n        i, n = sz.length, j = -1,\n        oz;\n\n    for (const d of data) {\n      for (i = 0, ++j; i < n; ++i) {\n        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n      }\n    }\n\n    for (i = 0, oz = array(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n"],"sourceRoot":""}