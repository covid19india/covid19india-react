{"version":3,"sources":["components/Cell.js","components/DistrictRow.js","components/Row.js"],"names":["Cell","statistic","data","getTableStatistic","lastUpdatedDate","setMapStatistic","mapStatistic","total","delta","spring","useSpring","config","SPRING_CONFIG_NUMBERS","handleMapClick","useCallback","e","stopPropagation","statisticConfig","STATISTIC_CONFIGS","className","onClick","bind","showDelta","div","classnames","title","to","formatNumber","format","Math","abs","highlighted","style","background","color","isCellEqual","prevProps","currProps","equal","memo","DistrictRow","stateCode","districtName","tableStatistics","regionHighlighted","setRegionHighlighted","expandTable","t","useTranslation","highlightDistrict","produce","draftRegionHighlighted","onMouseEnter","meta","notes","Tooltip","message","size","map","isDistrictRowEqual","Row","useState","showDistricts","setShowDistricts","useSessionStorage","sortColumn","isAscending","sortData","setSortData","history","useHistory","rowElement","useRef","handleSortClick","draftSortData","sortingFunction","districtNameA","districtNameB","dataType","statisticA","districts","statisticB","localeCompare","highlightState","_setShowDistrict","districtNameStr","UNKNOWN_DISTRICT_KEY","STATE_NAMES","handleStatePageClick","push","handleCollapse","current","scrollIntoView","block","ref","capitalize","formatLastUpdated","last_updated","this","state","HeaderCell","handleSort","Object","keys","sort","a","b","isEqual"],"mappings":"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","file":"static/js/45.f690369b.chunk.js","sourcesContent":["import {SPRING_CONFIG_NUMBERS, STATISTIC_CONFIGS} from '../constants.js';\nimport {formatNumber} from '../utils/commonFunctions';\n\nimport classnames from 'classnames';\nimport equal from 'fast-deep-equal';\nimport {memo, useCallback} from 'react';\nimport {animated, useSpring} from 'react-spring';\n\nconst Cell = ({\n  statistic,\n  data,\n  lastUpdatedDate,\n  getTableStatistic,\n  setMapStatistic,\n  mapStatistic,\n}) => {\n  const total = getTableStatistic(data, statistic, 'total');\n  const delta = getTableStatistic(data, statistic, 'delta');\n\n  const spring = useSpring({\n    total: total,\n    delta: delta,\n    config: SPRING_CONFIG_NUMBERS,\n  });\n\n  const handleMapClick = useCallback(\n    (statistic, e) => {\n      e.stopPropagation();\n      setMapStatistic(statistic);\n    },\n    [setMapStatistic]\n  );\n\n  const statisticConfig = STATISTIC_CONFIGS[statistic];\n\n  return (\n    <div\n      className=\"cell statistic\"\n      onClick={mapStatistic ? handleMapClick.bind(this, statistic) : null}\n    >\n      {statisticConfig?.showDelta && (\n        <animated.div\n          className={classnames('delta', `is-${statistic}`)}\n          title={delta}\n        >\n          {spring.delta.to((delta) =>\n            delta > 0\n              ? '\\u2191' + formatNumber(delta, statisticConfig.format)\n              : delta < 0\n              ? '\\u2193' + formatNumber(Math.abs(delta), statisticConfig.format)\n              : ''\n          )}\n        </animated.div>\n      )}\n\n      <animated.div className=\"total\" title={total}>\n        {spring.total.to((total) =>\n          formatNumber(total, statisticConfig.format, statistic)\n        )}\n      </animated.div>\n      {mapStatistic && (\n        <div\n          className={classnames('map-indicator', `is-${statistic}`, {\n            highlighted: statistic === mapStatistic,\n          })}\n          style={{\n            background:\n              statistic === mapStatistic && statisticConfig?.color\n                ? statisticConfig.color\n                : null,\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nconst isCellEqual = (prevProps, currProps) => {\n  if (!equal(prevProps.data?.total, currProps.data?.total)) {\n    return false;\n  } else if (!equal(prevProps.data?.delta, currProps.data?.delta)) {\n    return false;\n  } else if (!equal(prevProps.mapStatistic, currProps.mapStatistic)) {\n    return false;\n  } else if (!equal(prevProps.getTableStatistic, currProps.getTableStatistic)) {\n    return false;\n  }\n  return true;\n};\n\nexport default memo(Cell, isCellEqual);\n","import Cell from './Cell';\nimport Tooltip from './Tooltip';\n\nimport {InfoIcon} from '@primer/octicons-react';\nimport classnames from 'classnames';\nimport equal from 'fast-deep-equal';\nimport produce from 'immer';\nimport {memo, useCallback} from 'react';\nimport {useTranslation} from 'react-i18next';\n\nfunction DistrictRow({\n  stateCode,\n  districtName,\n  data,\n  tableStatistics,\n  regionHighlighted,\n  setRegionHighlighted,\n  expandTable,\n  getTableStatistic,\n}) {\n  const {t} = useTranslation();\n\n  const highlightDistrict = useCallback(() => {\n    if (regionHighlighted.districtName !== districtName) {\n      setRegionHighlighted(\n        produce(regionHighlighted, (draftRegionHighlighted) => {\n          draftRegionHighlighted.stateCode = stateCode;\n          draftRegionHighlighted.districtName = districtName;\n        })\n      );\n    }\n  }, [regionHighlighted, districtName, setRegionHighlighted, stateCode]);\n\n  return (\n    <div\n      className={classnames('row', 'district', {\n        'is-highlighted': regionHighlighted?.districtName === districtName,\n      })}\n      onMouseEnter={highlightDistrict}\n    >\n      <div className=\"cell\">\n        <div className=\"state-name\">{t(districtName)}</div>\n        {data?.meta?.notes && (\n          <Tooltip message={data.meta.notes}>\n            <InfoIcon size={16} />\n          </Tooltip>\n        )}\n      </div>\n\n      {tableStatistics.map((statistic) => (\n        <Cell\n          key={statistic}\n          {...{\n            statistic,\n            data,\n            getTableStatistic,\n          }}\n        />\n      ))}\n    </div>\n  );\n}\n\nconst isDistrictRowEqual = (prevProps, currProps) => {\n  if (!equal(prevProps.data?.total, currProps.data?.total)) {\n    return false;\n  } else if (!equal(prevProps.data?.delta, currProps.data?.delta)) {\n    return false;\n  } else if (\n    !equal(prevProps.data?.['last_updated'], currProps.data?.['last_updated'])\n  ) {\n    return false;\n  } else if (\n    !equal(\n      prevProps.regionHighlighted.districtName,\n      currProps.regionHighlighted.districtName\n    ) &&\n    (equal(prevProps.regionHighlighted.districtName, prevProps.districtName) ||\n      equal(currProps.regionHighlighted.districtName, currProps.districtName))\n  ) {\n    return false;\n  } else if (!equal(prevProps.expandTable, currProps.expandTable)) {\n    return false;\n  } else if (!equal(prevProps.getTableStatistic, currProps.getTableStatistic)) {\n    return false;\n  } else if (!equal(prevProps.tableStatistics, currProps.tableStatistics)) {\n    return false;\n  }\n  return true;\n};\n\nexport default memo(DistrictRow, isDistrictRowEqual);\n","import Cell from './Cell';\nimport DistrictRow from './DistrictRow';\nimport HeaderCell from './HeaderCell';\nimport Tooltip from './Tooltip';\n\nimport {\n  STATE_NAMES,\n  STATISTIC_CONFIGS,\n  UNKNOWN_DISTRICT_KEY,\n} from '../constants';\nimport {capitalize, formatLastUpdated} from '../utils/commonFunctions';\n\nimport {\n  AlertIcon,\n  ClockIcon,\n  SortAscIcon,\n  SortDescIcon,\n  FoldUpIcon,\n  GraphIcon,\n  InfoIcon,\n} from '@primer/octicons-react';\nimport classnames from 'classnames';\nimport equal from 'fast-deep-equal';\nimport produce from 'immer';\nimport {memo, useState, useCallback, useRef} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useHistory} from 'react-router-dom';\nimport {useSessionStorage} from 'react-use';\n\nfunction Row({\n  data,\n  tableStatistics,\n  stateCode,\n  districtName,\n  regionHighlighted,\n  setRegionHighlighted,\n  expandTable,\n  getTableStatistic,\n  mapStatistic,\n  setMapStatistic,\n}) {\n  const [showDistricts, setShowDistricts] = useState(false);\n  const [sortData, setSortData] = useSessionStorage('districtSortData', {\n    sortColumn: 'confirmed',\n    isAscending: false,\n    delta: false,\n  });\n\n  const history = useHistory();\n  const {t} = useTranslation();\n\n  const rowElement = useRef();\n\n  const handleSortClick = useCallback(\n    (statistic) => {\n      if (sortData.sortColumn !== statistic) {\n        setSortData(\n          produce(sortData, (draftSortData) => {\n            if (\n              sortData.sortColumn === 'districtName' ||\n              statistic === 'districtName'\n            ) {\n              draftSortData.isAscending = !sortData.isAscending;\n            }\n            draftSortData.sortColumn = statistic;\n          })\n        );\n      } else {\n        setSortData(\n          produce(sortData, (draftSortData) => {\n            draftSortData.isAscending = !sortData.isAscending;\n          })\n        );\n      }\n    },\n    [sortData, setSortData]\n  );\n\n  const sortingFunction = useCallback(\n    (districtNameA, districtNameB) => {\n      if (sortData.sortColumn !== 'districtName') {\n        const statisticConfig = STATISTIC_CONFIGS[sortData.sortColumn];\n        const dataType =\n          sortData.delta && statisticConfig?.showDelta ? 'delta' : 'total';\n\n        const statisticA = getTableStatistic(\n          data.districts[districtNameA],\n          sortData.sortColumn,\n          dataType\n        );\n        const statisticB = getTableStatistic(\n          data.districts[districtNameB],\n          sortData.sortColumn,\n          dataType\n        );\n        return sortData.isAscending\n          ? statisticA - statisticB\n          : statisticB - statisticA;\n      } else {\n        return sortData.isAscending\n          ? districtNameA.localeCompare(districtNameB)\n          : districtNameB.localeCompare(districtNameA);\n      }\n    },\n    [sortData, data, getTableStatistic]\n  );\n\n  const highlightState = useCallback(() => {\n    if (stateCode) {\n      if (regionHighlighted.stateCode !== stateCode) {\n        setRegionHighlighted(\n          produce(regionHighlighted, (draftRegionHighlighted) => {\n            draftRegionHighlighted.stateCode = stateCode;\n            draftRegionHighlighted.districtName = null;\n          })\n        );\n      }\n    } else if (districtName) {\n      if (\n        regionHighlighted.districtName !== districtName ||\n        regionHighlighted.stateCode !== data.stateCode\n      ) {\n        setRegionHighlighted(\n          produce(regionHighlighted, (draftRegionHighlighted) => {\n            draftRegionHighlighted.stateCode = data.stateCode;\n            draftRegionHighlighted.districtName = districtName;\n          })\n        );\n      }\n    }\n  }, [\n    data.stateCode,\n    districtName,\n    regionHighlighted,\n    setRegionHighlighted,\n    stateCode,\n  ]);\n\n  const _setShowDistrict = useCallback(() => {\n    if (data.districts) {\n      setShowDistricts(!showDistricts);\n    }\n  }, [showDistricts, data]);\n\n  let districtNameStr = t(districtName);\n  if (districtName === UNKNOWN_DISTRICT_KEY) {\n    districtNameStr = `${t(UNKNOWN_DISTRICT_KEY)} [${t(\n      STATE_NAMES[data.stateCode]\n    )}]`;\n  }\n\n  const handleStatePageClick = useCallback(\n    (stateCode) => {\n      history.push(`state/${stateCode}`);\n    },\n    [history]\n  );\n\n  const handleCollapse = useCallback(() => {\n    setShowDistricts(false);\n    rowElement.current.scrollIntoView({\n      block: 'start',\n    });\n  }, []);\n\n  return (\n    <>\n      <div\n        className={classnames(\n          'row',\n          {'is-total': stateCode === 'TT'},\n          {\n            'is-highlighted':\n              (stateCode && regionHighlighted?.stateCode === stateCode) ||\n              (districtName &&\n                regionHighlighted?.districtName === districtName &&\n                regionHighlighted?.stateCode === data.stateCode),\n          }\n        )}\n        onMouseEnter={highlightState}\n        onClick={_setShowDistrict}\n        ref={rowElement}\n      >\n        <div className=\"cell\">\n          <div className=\"state-name fadeInUp\">\n            {t(STATE_NAMES[stateCode]) || districtNameStr}\n          </div>\n          {data?.meta?.notes && (\n            <Tooltip message={data.meta.notes}>\n              <InfoIcon size={16} />\n            </Tooltip>\n          )}\n        </div>\n\n        {tableStatistics.map((statistic) => (\n          <Cell\n            key={statistic}\n            {...{\n              data,\n              statistic,\n              getTableStatistic,\n              mapStatistic,\n              setMapStatistic,\n            }}\n          />\n        ))}\n      </div>\n\n      {showDistricts && (\n        <>\n          <div className=\"state-meta\">\n            <div className=\"state-meta-top\">\n              {data?.meta?.['last_updated'] && (\n                <p className=\"last-updated\">\n                  <ClockIcon />\n                  {capitalize(\n                    `${formatLastUpdated(data.meta.last_updated)} ${t('ago')}`\n                  )}\n                </p>\n              )}\n              <div\n                className=\"state-page\"\n                onClick={handleStatePageClick.bind(this, stateCode)}\n              >\n                <GraphIcon />\n                <span>\n                  {t('See more details on {{state}}', {\n                    state: stateCode,\n                  })}\n                </span>\n              </div>\n            </div>\n\n            {data.districts && UNKNOWN_DISTRICT_KEY in data.districts && (\n              <div className=\"state-meta-bottom\">\n                <div className={classnames('disclaimer')}>\n                  <AlertIcon />\n                  <span>\n                    {t('District-wise data not available in state bulletin')}\n                  </span>\n                </div>\n              </div>\n            )}\n          </div>\n\n          <div className={classnames('row', 'heading')}>\n            <div\n              className=\"cell heading\"\n              onClick={handleSortClick.bind(this, 'districtName')}\n            >\n              <div className=\"district-name\">{t('District')}</div>\n              {sortData.sortColumn === 'districtName' && (\n                <div className={'sort-icon'}>\n                  {sortData.isAscending ? (\n                    <SortAscIcon size={12} />\n                  ) : (\n                    <SortDescIcon size={12} />\n                  )}\n                </div>\n              )}\n            </div>\n\n            {tableStatistics.map((statistic) => (\n              <HeaderCell\n                key={statistic}\n                {...{statistic, sortData, setSortData}}\n                handleSort={handleSortClick.bind(this, statistic)}\n              />\n            ))}\n          </div>\n        </>\n      )}\n\n      {showDistricts &&\n        Object.keys(data.districts || {})\n          .sort((a, b) => sortingFunction(a, b))\n          .map((districtName) => (\n            <DistrictRow\n              data={data.districts[districtName]}\n              key={districtName}\n              {...{\n                tableStatistics,\n                districtName,\n                regionHighlighted,\n                setRegionHighlighted,\n                stateCode,\n                expandTable,\n                getTableStatistic,\n              }}\n            />\n          ))}\n\n      {showDistricts && (\n        <div className=\"spacer-row\">\n          <div className=\"spacer\">\n            <p>{`End of ${t(STATE_NAMES[stateCode])}'s districts`}</p>\n            <div className=\"fold\" onClick={handleCollapse}>\n              <FoldUpIcon />\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (!equal(prevProps.data?.total, currProps.data?.total)) {\n    return false;\n  } else if (!equal(prevProps.data?.delta, currProps.data?.delta)) {\n    return false;\n  } else if (\n    (!equal(\n      prevProps.regionHighlighted.stateCode,\n      currProps.regionHighlighted.stateCode\n    ) &&\n      equal(prevProps.regionHighlighted.stateCode, prevProps.stateCode)) ||\n    equal(currProps.regionHighlighted.stateCode, currProps.stateCode)\n  ) {\n    return false;\n  } else if (\n    (!equal(\n      prevProps.regionHighlighted.districtName,\n      currProps.regionHighlighted.districtName\n    ) &&\n      equal(\n        prevProps.regionHighlighted.districtName,\n        prevProps.districtName\n      )) ||\n    equal(currProps.regionHighlighted.districtName, currProps.districtName)\n  ) {\n    return false;\n  } else if (!equal(prevProps.expandTable, currProps.expandTable)) {\n    return false;\n  } else if (!equal(prevProps.mapStatistic, currProps.mapStatistic)) {\n    return false;\n  } else if (!equal(prevProps.getTableStatistic, currProps.getTableStatistic)) {\n    return false;\n  } else if (!equal(prevProps.tableStatistics, currProps.tableStatistics)) {\n    return false;\n  } else return true;\n};\n\nexport default memo(Row, isEqual);\n"],"sourceRoot":""}