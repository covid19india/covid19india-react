{"version":3,"sources":["components/Updates.js"],"names":["newDate","Date","currentDate","Updates","updates","t","useTranslation","useLayoutEffect","className","format","slice","UPDATES_COUNT","reverse","map","activity","index","update","replace","activityDate","timestamp","getDate","capitalize","formatDistance","dangerouslySetInnerHTML","__html","href","target","rel"],"mappings":"+GAAA,4EAQMA,EAAU,IAAIC,KAChBC,EAAcF,EAgFHG,UA9Ef,YAA6B,IAAXC,EAAU,EAAVA,QACTC,EAAKC,cAALD,EAMP,OAJAE,2BAAgB,WACdL,EAAcF,KAId,sBAAKQ,UAAU,UAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,6BAAKC,YAAOP,EAAa,aAG1BE,EACEM,OAAOC,KACPC,UACAC,KAAI,SAAUC,EAAUC,GACvBD,EAASE,OAASF,EAASE,OAAOC,QAAQ,MAAO,SACjD,IAAMC,EAAe,IAAIjB,KAA0B,IAArBa,EAASK,WAoBvC,OACE,eAAC,WAAD,WACGD,EAAaE,YAAclB,EAAYkB,WApB1ClB,EAAcgB,EAGZ,qCACa,IAAVH,EACC,qBAAKP,UAAU,SAAf,SACE,6BAAKH,EAAE,uBAGT,GAEF,qBAAKG,UAAU,iBAAf,SACE,6BAAKC,YAAOS,EAAc,iBAU1B,IACJ,sBAAiBV,UAAU,SAA3B,UACE,6BACGa,YACCC,YACE,IAAIrB,KAA0B,IAArBa,EAASK,WAClB,IAAIlB,OAHP,WAKOI,EAAE,UAEZ,oBACEkB,wBAAyB,CACvBC,OAAQV,EAASE,YAXbD,KAJGA,MAsBrB,qBAAKP,UAAU,iBAAf,SACE,mBACEiB,KAAK,uCACLC,OAAO,SACPlB,UAAU,WACVmB,IAAI,sBAJN,SAME,+BACGtB,EAAE,2BACH,cAAC,IAAD","file":"static/js/46.cbd2eb23.chunk.js","sourcesContent":["import {UPDATES_COUNT} from '../constants';\nimport {capitalize} from '../utils/commonFunctions';\n\nimport {CrossReferenceIcon} from '@primer/octicons-react';\nimport {format, formatDistance} from 'date-fns';\nimport {Fragment, useLayoutEffect} from 'react';\nimport {useTranslation} from 'react-i18next';\n\nconst newDate = new Date();\nlet currentDate = newDate;\n\nfunction Updates({updates}) {\n  const {t} = useTranslation();\n\n  useLayoutEffect(() => {\n    currentDate = newDate;\n  });\n\n  return (\n    <div className=\"updates\">\n      <div className=\"updates-header\">\n        <h2>{format(currentDate, 'd MMM')}</h2>\n      </div>\n\n      {updates\n        .slice(-UPDATES_COUNT)\n        .reverse()\n        .map(function (activity, index) {\n          activity.update = activity.update.replace(/\\n/g, '<br/>');\n          const activityDate = new Date(activity.timestamp * 1000);\n          const addHeader = () => {\n            currentDate = activityDate;\n\n            return (\n              <>\n                {index === 0 ? (\n                  <div className=\"update\">\n                    <h4>{t('No updates yet!')}</h4>\n                  </div>\n                ) : (\n                  ''\n                )}\n                <div className=\"updates-header\">\n                  <h2>{format(activityDate, 'd MMM')}</h2>\n                </div>\n              </>\n            );\n          };\n\n          return (\n            <Fragment key={index}>\n              {activityDate.getDate() !== currentDate.getDate()\n                ? addHeader()\n                : ' '}\n              <div key={index} className=\"update\">\n                <h5>\n                  {capitalize(\n                    formatDistance(\n                      new Date(activity.timestamp * 1000),\n                      new Date()\n                    )\n                  ) + ` ${t('ago')}`}\n                </h5>\n                <h4\n                  dangerouslySetInnerHTML={{\n                    __html: activity.update,\n                  }}\n                ></h4>\n              </div>\n            </Fragment>\n          );\n        })}\n      <div className=\"updates-footer\">\n        <a\n          href=\"https://t.me/covid19indiaorg_updates\"\n          target=\"_blank\"\n          className=\"telegram\"\n          rel=\"noopener noreferrer\"\n        >\n          <h4>\n            {t('Get updates on Telegram')}\n            <CrossReferenceIcon />\n          </h4>\n        </a>\n      </div>\n    </div>\n  );\n}\n\nexport default Updates;\n"],"sourceRoot":""}