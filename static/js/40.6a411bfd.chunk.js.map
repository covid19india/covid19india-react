{"version":3,"sources":["components/Calendar.js"],"names":["Calendar","date","dates","slider","useState","view","setView","parseIndiaDate","activeStartDate","setActiveStartDate","minDate","maxDate","length","handleNavigation","direction","newDate","add","months","years","lower","startOfMonth","startOfYear","upper","endOfMonth","endOfYear","swipeHandlers","useSwipeable","onSwipedRight","bind","this","onSwipedLeft","className","onWheel","event","deltaX","Math","sign","value","tileDisabled","includes","formatISO","representation","onActiveStartDateChange","onViewChange","minDetail","showFixedNumberOfWeeks","onChange","clickedDate","moveToSlide","indexOf","prevLabel","size","nextLabel","prev2Label","next2Label","isEqual","prevProps","currProps","equal","memo"],"mappings":"4RAqBA,SAASA,EAAT,GAA0C,IAAvBC,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,MAAOC,EAAS,EAATA,OAC9B,EAAwBC,mBAAS,SAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAA8CF,mBAASG,YAAeN,IAAtE,mBAAOO,EAAP,KAAwBC,EAAxB,KAEMC,EAAUH,YAAeL,EAAM,IAC/BS,EAAUJ,YAAeL,EAAMA,EAAMU,OAAS,IAsB9CC,EAAmB,SAACC,GACxB,IAAMC,EAAUC,YACdR,EACS,UAATH,EAAmB,CAACY,OAAQH,GAAa,CAACI,MAAOJ,IAE7CK,EACK,UAATd,EAAmBe,YAAaV,GAAWW,YAAYX,GACnDY,EAAiB,UAATjB,EAAmBkB,YAAWZ,GAAWa,YAAUb,GAC7DQ,GAASJ,GAAWA,GAAWO,GACjCb,EAAmBM,IAIjBU,EAAgBC,uBAAa,CACjCC,cAAed,EAAiBe,KAAKC,MAAO,GAC5CC,aAAcjB,EAAiBe,KAAKC,KAAM,KAS5C,OACE,6CAAKE,UAAU,WAAWC,QAPR,SAACC,GACE,IAAjBA,EAAMC,QACRrB,EAAiBsB,KAAKC,KAAKH,EAAMC,WAKiBT,GAApD,aACE,cAAC,IAAD,CACEY,MAAO9B,YAAeN,GACtBqC,aAhDiB,SAAC,GAAkB,IAAjBrC,EAAgB,EAAhBA,KACvB,MACW,UAF4B,EAAVI,OAG1BH,EAAMqC,SAASC,YAAUvC,EAAM,CAACwC,eAAgB,WA8C1C/B,UAASC,UAASH,kBAAiBH,OACxCqC,wBAlCyB,SAAC,GAAuB,IAAtBlC,EAAqB,EAArBA,gBAC/BC,EAAmBD,IAkCfmC,aAvCmB,SAAC,GAAY,IAAXtC,EAAU,EAAVA,KACzBC,EAAQD,IAuCJuC,UAAU,OACVC,wBAAsB,EACtBC,SA/CsB,SAACT,GAC3B,IAAMU,EAAcP,YAAUH,EAAO,CAACI,eAAgB,SACtDtC,EAAO6C,YAAY9C,EAAM+C,QAAQF,KA8C7BG,UACE,8BACE,cAAC,IAAD,CAAaC,KAAM,OAGvBC,UACE,8BACE,cAAC,IAAD,CAAcD,KAAM,OAGxBE,WACE,8BACE,cAAC,IAAD,CAAcF,KAAM,OAGxBG,WACE,8BACE,cAAC,IAAD,CAAeH,KAAM,YAQjC,IAAMI,EAAU,SAACC,EAAWC,GAC1B,QAAKC,IAAMD,EAAUxD,KAAMuD,EAAUvD,SAEzByD,IAAMD,EAAUvD,MAAOsD,EAAUtD,QAMhCyD,yBAAK3D,EAAUuD","file":"static/js/40.6a411bfd.chunk.js","sourcesContent":["import {parseIndiaDate} from '../utils/commonFunctions';\n\nimport {\n  add,\n  formatISO,\n  startOfMonth,\n  startOfYear,\n  endOfMonth,\n  endOfYear,\n} from 'date-fns';\nimport equal from 'fast-deep-equal';\nimport {memo, useState} from 'react';\nimport ReactCalendar from 'react-calendar';\nimport {\n  ChevronLeft,\n  ChevronsLeft,\n  ChevronRight,\n  ChevronsRight,\n} from 'react-feather';\nimport {useSwipeable} from 'react-swipeable';\n\nfunction Calendar({date, dates, slider}) {\n  const [view, setView] = useState('month');\n  const [activeStartDate, setActiveStartDate] = useState(parseIndiaDate(date));\n\n  const minDate = parseIndiaDate(dates[0]);\n  const maxDate = parseIndiaDate(dates[dates.length - 1]);\n\n  const isDateDisabled = ({date, view}) => {\n    return (\n      view === 'month' &&\n      !dates.includes(formatISO(date, {representation: 'date'}))\n    );\n  };\n\n  const handleCalendarClick = (value) => {\n    const clickedDate = formatISO(value, {representation: 'date'});\n    slider.moveToSlide(dates.indexOf(clickedDate));\n  };\n\n  const handleViewButton = ({view}) => {\n    setView(view);\n  };\n\n  const handleNavigationButton = ({activeStartDate}) => {\n    setActiveStartDate(activeStartDate);\n  };\n\n  const handleNavigation = (direction) => {\n    const newDate = add(\n      activeStartDate,\n      view === 'month' ? {months: direction} : {years: direction}\n    );\n    const lower =\n      view === 'month' ? startOfMonth(minDate) : startOfYear(minDate);\n    const upper = view === 'month' ? endOfMonth(maxDate) : endOfYear(maxDate);\n    if (lower <= newDate && newDate <= upper) {\n      setActiveStartDate(newDate);\n    }\n  };\n\n  const swipeHandlers = useSwipeable({\n    onSwipedRight: handleNavigation.bind(this, -1),\n    onSwipedLeft: handleNavigation.bind(this, 1),\n  });\n\n  const handleWheel = (event) => {\n    if (event.deltaX !== 0) {\n      handleNavigation(Math.sign(event.deltaX));\n    }\n  };\n\n  return (\n    <div className=\"Calendar\" onWheel={handleWheel} {...swipeHandlers}>\n      <ReactCalendar\n        value={parseIndiaDate(date)}\n        tileDisabled={isDateDisabled}\n        {...{minDate, maxDate, activeStartDate, view}}\n        onActiveStartDateChange={handleNavigationButton}\n        onViewChange={handleViewButton}\n        minDetail=\"year\"\n        showFixedNumberOfWeeks\n        onChange={handleCalendarClick}\n        prevLabel={\n          <div>\n            <ChevronLeft size={18} />\n          </div>\n        }\n        nextLabel={\n          <div>\n            <ChevronRight size={18} />\n          </div>\n        }\n        prev2Label={\n          <div>\n            <ChevronsLeft size={18} />\n          </div>\n        }\n        next2Label={\n          <div>\n            <ChevronsRight size={18} />\n          </div>\n        }\n      />\n    </div>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (!equal(currProps.date, prevProps.date)) {\n    return false;\n  } else if (!equal(currProps.dates, prevProps.dates)) {\n    return false;\n  }\n  return true;\n};\n\nexport default memo(Calendar, isEqual);\n"],"sourceRoot":""}