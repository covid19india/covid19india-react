{"version":3,"sources":["../node_modules/d3-scale/src/nice.js","../node_modules/d3-scale/src/ordinal.js","../node_modules/d3-geo/src/adder.js","../node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js","../node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js","../node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js","../node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js","../node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js","../node_modules/@juggle/resize-observer/lib/utils/element.js","../node_modules/@juggle/resize-observer/lib/utils/global.js","../node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js","../node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js","../node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js","../node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js","../node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js","../node_modules/@juggle/resize-observer/lib/utils/process.js","../node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js","../node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js","../node_modules/@juggle/resize-observer/lib/utils/scheduler.js","../node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js","../node_modules/@juggle/resize-observer/lib/ResizeObservation.js","../node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js","../node_modules/@juggle/resize-observer/lib/ResizeObserverController.js","../node_modules/@juggle/resize-observer/lib/ResizeObserver.js","../node_modules/d3-scale/src/log.js","../node_modules/d3-geo/src/identity.js","../node_modules/d3-geo/src/stream.js","../node_modules/d3-geo/src/path/bounds.js","../node_modules/d3-scale/src/band.js","../node_modules/d3-array/src/range.js","../node_modules/d3-scale/src/pow.js","../node_modules/topojson/node_modules/topojson-client/src/identity.js","../node_modules/topojson/node_modules/topojson-client/src/transform.js","../node_modules/topojson/node_modules/topojson-client/src/feature.js","../node_modules/topojson/node_modules/topojson-client/src/reverse.js","../node_modules/topojson/node_modules/topojson-client/src/stitch.js","../node_modules/topojson/node_modules/topojson-client/src/mesh.js","../node_modules/topojson/node_modules/topojson-client/src/bisect.js","../node_modules/topojson/node_modules/topojson-server/src/hash/point-hash.js","../node_modules/topojson/node_modules/topojson-simplify/src/spherical.js","../node_modules/d3-interpolate/src/quantize.js","../node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","../node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","../node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","../node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","../node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","../node_modules/d3-fetch/src/json.js","../node_modules/react-feather/dist/icons/alert-circle.js","../node_modules/d3-geo/src/compose.js","../node_modules/d3-geo/src/rotation.js","../node_modules/d3-geo/src/clip/buffer.js","../node_modules/d3-geo/src/pointEqual.js","../node_modules/d3-geo/src/clip/rejoin.js","../node_modules/d3-geo/src/cartesian.js","../node_modules/d3-geo/src/polygonContains.js","../node_modules/d3-geo/node_modules/d3-array/src/ascending.js","../node_modules/d3-geo/node_modules/d3-array/src/bisect.js","../node_modules/d3-geo/node_modules/d3-array/src/bisector.js","../node_modules/d3-geo/node_modules/d3-array/src/cross.js","../node_modules/d3-geo/node_modules/d3-array/src/array.js","../node_modules/d3-geo/node_modules/d3-array/src/ticks.js","../node_modules/d3-geo/node_modules/d3-array/src/threshold/sturges.js","../node_modules/d3-geo/node_modules/d3-array/src/merge.js","../node_modules/d3-geo/node_modules/d3-array/src/zip.js","../node_modules/d3-geo/src/clip/index.js","../node_modules/d3-geo/src/clip/antimeridian.js","../node_modules/d3-geo/src/circle.js","../node_modules/d3-geo/src/clip/circle.js","../node_modules/d3-geo/src/clip/rectangle.js","../node_modules/d3-geo/src/clip/line.js","../node_modules/d3-geo/src/transform.js","../node_modules/d3-geo/src/projection/fit.js","../node_modules/d3-geo/src/projection/resample.js","../node_modules/d3-geo/src/projection/index.js","../node_modules/d3-geo/src/projection/mercator.js","../node_modules/d3-geo/src/path/area.js","../node_modules/d3-geo/src/path/centroid.js","../node_modules/d3-geo/src/path/context.js","../node_modules/d3-geo/src/path/measure.js","../node_modules/d3-geo/src/path/string.js","../node_modules/d3-geo/src/path/index.js","../node_modules/d3-array/src/quickselect.js","../node_modules/d3-array/src/number.js","../node_modules/d3-array/src/quantile.js","../node_modules/d3-scale/src/sequential.js","../node_modules/d3-geo/src/math.js","../node_modules/d3-scale-chromatic/src/colors.js","../node_modules/d3-scale-chromatic/src/ramp.js","../node_modules/d3-geo/src/noop.js","../node_modules/d3-axis/src/array.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js"],"names":["domain","interval","t","i0","i1","slice","length","x0","x1","floor","ceil","implicit","Symbol","ordinal","index","Map","range","unknown","scale","d","key","i","get","set","push","_","arguments","value","has","Array","from","copy","initRange","apply","Adder","this","reset","prototype","constructor","s","add","y","temp","valueOf","adder","a","b","x","bv","av","ResizeObserverBoxOptions","resizeObservers","msg","trigger","DOMRectReadOnly","width","height","top","left","bottom","right","Object","freeze","toJSON","_a","fromRect","rectangle","isSVG","target","SVGElement","isHidden","getBBox","_b","offsetWidth","offsetHeight","getClientRects","isElement","obj","scope","ownerDocument","defaultView","Element","global","window","cache","WeakMap","scrollRegexp","verticalRegexp","IE","test","navigator","userAgent","parseDimension","pixel","parseFloat","size","inlineSize","blockSize","switchSizes","zeroBoxes","devicePixelContentBoxSize","borderBoxSize","contentBoxSize","contentRect","calculateBoxSizes","forceRecalculation","cs","getComputedStyle","svg","ownerSVGElement","removePadding","boxSizing","writingMode","canScrollVertically","overflowY","canScrollHorizontally","overflowX","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTop","borderTopWidth","borderRight","borderRightWidth","borderBottom","borderBottomWidth","horizontalPadding","verticalPadding","horizontalBorderArea","borderLeftWidth","verticalBorderArea","horizontalScrollbarThickness","clientHeight","verticalScrollbarThickness","clientWidth","widthReduction","heightReduction","contentWidth","contentHeight","borderBoxWidth","borderBoxHeight","boxes","Math","round","devicePixelRatio","calculateBoxSize","observedBox","DEVICE_PIXEL_CONTENT_BOX","BORDER_BOX","ResizeObserverEntry","calculateDepthForNode","node","Infinity","depth","parent","parentNode","broadcastActiveObservations","shallowestDepth","callbacks","forEach","ro","activeTargets","entries","ot","entry","targetDepth","lastReportedSize","callback","call","observer","splice","_i","callbacks_1","gatherActiveObservationsAtDepth","skippedTargets","observationTargets","isActive","process","some","event","ErrorEvent","message","document","createEvent","initEvent","dispatchEvent","deliverResizeLoopError","queueMicroTask","toggle_1","el_1","createTextNode","MutationObserver","cb","observe","characterData","textContent","watching","observerConfig","attributes","childList","subtree","events","time","timeout","Date","now","scheduled","scheduler","Scheduler","_this","stopped","listener","schedule","run","until","elementsHaveResized","start","requestAnimationFrame","stop","body","addEventListener","name","disconnect","removeEventListener","updateCount","n","ResizeObservation","CONTENT_BOX","tagName","type","isReplacedElement","display","ResizeObserverDetail","resizeObserver","observerMap","getObservationIndex","ResizeObserverController","connect","detail","options","firstObservation","box","unobserve","lastObservation","indexOf","ResizeObserver","TypeError","toString","transformLog","log","transformExp","exp","transformLogn","transformExpn","pow10","isFinite","reflect","f","loggish","transform","logs","pows","base","rescale","E","log10","log2","logp","pow","powp","ticks","count","r","u","v","p","k","j","z","min","map","reverse","tickFormat","specifier","format","max","nice","transformer","streamGeometry","geometry","stream","streamGeometryType","hasOwnProperty","streamObjectType","Feature","object","FeatureCollection","features","Sphere","sphere","Point","coordinates","point","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","lineStart","lineEnd","polygonStart","polygonEnd","y0","y1","boundsStream","noop","result","bounds","band","step","bandwidth","undefined","ordinalRange","r0","r1","paddingInner","paddingOuter","align","values","sequence","rangeRound","padding","transformPow","exponent","transformSqrt","sqrt","transformSquare","powish","identity","linearish","kx","ky","dx","translate","dy","input","output","topology","o","feature","id","bbox","properties","transformPoint","arcs","arc","points","pop","array","line","ring","polygon","stitchedArcs","fragmentByStart","fragmentByEnd","fragments","emptyIndex","flush","end","g","e","p1","p0","dp","ends","fg","concat","unshift","gf","meshArcs","filter","extractArcs","stitch","geom","geomsByArc","extract0","extract1","extract2","extract3","geoms","buffer","ArrayBuffer","Float64Array","Uint32Array","PI","abs","atan2","cos","sin","interpolator","samples","scheme","colors","ramp","responseJson","response","ok","Error","status","statusText","json","init","fetch","then","_extends","assign","source","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","AlertCircle","forwardRef","_ref","ref","_ref$color","color","_ref$size","rest","React","createElement","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","x2","y2","propTypes","PropTypes","string","oneOfType","number","displayName","compose","invert","rotationIdentity","lambda","phi","pi","tau","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","cosPhi","asin","lines","m","rejoin","shift","epsilon","Intersection","other","segments","compareIntersection","startInside","interpolate","subject","clip","segment","pointEqual","sort","link","current","isSubject","spherical","cartesian","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","l","sum","longitude","sign","NaN","ascendingBisect","compare","ascending","lo","hi","mid","bisector","arrays","merged","pointVisible","clipLine","sink","ringBuffer","clipBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","merge","sinPhi","normal","angle","winding","halfPi","point0","lambda0","phi0","quarterPi","sinPhi0","cosPhi0","lambda1","sinPhi1","cosPhi1","point1","phi1","delta","absDelta","antimeridian","intersection","phiArc","polygonContains","clipRejoin","pointLine","clean","ringSegments","validSegment","sign0","sign1","sinLambda0Lambda1","atan","clipAntimeridianIntersect","to","direction","circleStream","radius","t0","t1","cosRadius","sinRadius","circleRadius","acos","cr","radians","smallRadius","notHemisphere","visible","intersect","two","n1","n2","n2n2","n1n2","determinant","c1","c2","n1xn2","A","w","uu","t2","q","polar","q1","code","c0","v0","v00","point2","c","clipRectangle","a1","corner","comparePoint","ca","x__","y__","v__","x_","y_","v_","first","activeStream","bufferStream","clipStream","linePoint","a0","b0","b1","polygonInside","cleanInside","ax","ay","methods","TransformStream","fit","projection","fitBounds","clipExtent","geoStream","fitExtent","extent","h","cosMinDistance","project","delta2","resampleLineTo","d2","phi2","lambda2","dx2","dy2","dz","lambda00","x00","y00","a00","b00","c00","resampleStream","ringPoint","resample","resampleNone","transformRadians","scaleTranslate","sx","sy","scaleTranslateRotate","alpha","cosAlpha","sinAlpha","ai","bi","ci","fi","projectAt","rotate","projectResample","projectTransform","projectRotateTransform","cacheStream","theta","preclip","clipAntimeridian","postclip","degrees","recenter","center","transformRotate","clipAngle","clipCircle","reflectX","reflectY","precision","fitSize","fitWidth","fitHeight","projectionMutator","mercatorRaw","tan","reclip","forward","mercatorProjection","areaSum","areaRingSum","areaStream","areaRingStart","areaRingEnd","area","areaPointFirst","areaPoint","X0","Y0","Z0","X1","Y1","Z1","X2","Y2","Z2","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroid","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","context","_context","_radius","pointRadius","_line","_point","closePath","moveTo","lineTo","lengthRing","lengthSum","lengthStream","lengthPointFirst","lengthPoint","PathString","_string","circle","_circle","join","projectionStream","contextStream","path","pathArea","measure","pathMeasure","pathBounds","pathCentroid","swap","numbers","valueof","quantile","value0","quickselect","sd","newLeft","newRight","subarray","k10","clamp","isNaN","interpolateRound","sequential","initInterpolator","interpolateRgbBasis","translateX","translateY","offset","entering","__axis","axis","orient","tickArguments","tickValues","tickSizeInner","tickSizeOuter","tickPadding","spacing","range0","range1","position","selection","selectAll","data","tick","order","tickExit","exit","tickEnter","enter","append","attr","select","text","insert","transition","getAttribute","remove","each","tickSize","axisRight","axisBottom"],"mappings":"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","file":"static/js/30.c773fb64.chunk.js","sourcesContent":["export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nexport default function() {\n  return new Adder;\n}\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add(temp, y, this.t);\n    add(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n","var resizeObservers = [];\nexport { resizeObservers };\n","var ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\nexport { ResizeObserverBoxOptions };\n","var msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\nexport { deliverResizeLoopError };\n","var DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return Object.freeze(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\nexport { DOMRectReadOnly };\n","var trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\" + (toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\nexport { queueMicroTask };\n","var isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a, _b;\n    var scope = (_b = (_a = obj) === null || _a === void 0 ? void 0 : _a.ownerDocument) === null || _b === void 0 ? void 0 : _b.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\nexport { isSVG, isHidden, isElement, isReplacedElement };\n","export var global = typeof window !== 'undefined' ? window : {};\n","import { ResizeObserverBoxOptions } from '../ResizeObserverBoxOptions';\nimport { DOMRectReadOnly } from '../DOMRectReadOnly';\nimport { isSVG, isHidden } from '../utils/element';\nimport { global } from '../utils/global';\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(global.navigator && global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return Object.freeze({\n        inlineSize: (switchSizes ? blockSize : inlineSize) || 0,\n        blockSize: (switchSizes ? inlineSize : blockSize) || 0\n    });\n};\nvar zeroBoxes = Object.freeze({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if (isHidden(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = Object.freeze({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\nexport { calculateBoxSize, calculateBoxSizes };\n","import { calculateBoxSizes } from './algorithms/calculateBoxSize';\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = calculateBoxSizes(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = [boxes.borderBoxSize];\n        this.contentBoxSize = [boxes.contentBoxSize];\n        this.devicePixelContentBoxSize = [boxes.devicePixelContentBoxSize];\n    }\n    return ResizeObserverEntry;\n}());\nexport { ResizeObserverEntry };\n","import { isHidden } from '../utils/element';\nvar calculateDepthForNode = function (node) {\n    if (isHidden(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\nexport { calculateDepthForNode };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { ResizeObserverEntry } from '../ResizeObserverEntry';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { calculateBoxSize } from './calculateBoxSize';\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new ResizeObserverEntry(ot.target);\n            var targetDepth = calculateDepthForNode(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\nexport { broadcastActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nvar gatherActiveObservationsAtDepth = function (depth) {\n    resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if (calculateDepthForNode(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\nexport { gatherActiveObservationsAtDepth };\n","import { hasActiveObservations } from '../algorithms/hasActiveObservations';\nimport { hasSkippedObservations } from '../algorithms/hasSkippedObservations';\nimport { deliverResizeLoopError } from '../algorithms/deliverResizeLoopError';\nimport { broadcastActiveObservations } from '../algorithms/broadcastActiveObservations';\nimport { gatherActiveObservationsAtDepth } from '../algorithms/gatherActiveObservationsAtDepth';\nvar process = function () {\n    var depth = 0;\n    gatherActiveObservationsAtDepth(depth);\n    while (hasActiveObservations()) {\n        depth = broadcastActiveObservations();\n        gatherActiveObservationsAtDepth(depth);\n    }\n    if (hasSkippedObservations()) {\n        deliverResizeLoopError();\n    }\n    return depth > 0;\n};\nexport { process };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasActiveObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\nexport { hasActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasSkippedObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\nexport { hasSkippedObservations };\n","import { process } from './process';\nimport { global } from './global';\nimport { queueResizeObserver } from './queueResizeObserver';\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        queueResizeObserver(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = process();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\nexport { scheduler, updateCount };\n","import { queueMicroTask } from './queueMicroTask';\nvar queueResizeObserver = function (cb) {\n    queueMicroTask(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\nexport { queueResizeObserver };\n","import { ResizeObserverBoxOptions } from './ResizeObserverBoxOptions';\nimport { calculateBoxSize } from './algorithms/calculateBoxSize';\nimport { isSVG, isReplacedElement } from './utils/element';\nvar skipNotifyOnElement = function (target) {\n    return !isSVG(target)\n        && !isReplacedElement(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = calculateBoxSize(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\nexport { ResizeObservation };\n","var ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\nexport { ResizeObserverDetail };\n","import { scheduler, updateCount } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { resizeObservers } from './utils/resizeObservers';\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new ResizeObserverDetail(resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && resizeObservers.push(detail);\n            detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n            updateCount(1);\n            scheduler.schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            updateCount(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\nexport { ResizeObserverController };\n","import { ResizeObserverController } from './ResizeObserverController';\nimport { isElement } from './utils/element';\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\nexport { ResizeObserver };\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","export default function(x) {\n  return x;\n}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, identity, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n","import reverse from \"./reverse\";\nimport transform from \"./transform\";\n\nexport default function(topology, o) {\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature(topology, o); })}\n      : feature(topology, o);\n}\n\nexport function feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n","export default function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}\n","export default function(topology, arcs) {\n  var stitchedArcs = {},\n      fragmentByStart = {},\n      fragmentByEnd = {},\n      fragments = [],\n      emptyIndex = -1;\n\n  // Stitch empty arcs first, since they may be subsumed by other arcs.\n  arcs.forEach(function(i, j) {\n    var arc = topology.arcs[i < 0 ? ~i : i], t;\n    if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n      t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n    }\n  });\n\n  arcs.forEach(function(i) {\n    var e = ends(i),\n        start = e[0],\n        end = e[1],\n        f, g;\n\n    if (f = fragmentByEnd[start]) {\n      delete fragmentByEnd[f.end];\n      f.push(i);\n      f.end = end;\n      if (g = fragmentByStart[end]) {\n        delete fragmentByStart[g.start];\n        var fg = g === f ? f : f.concat(g);\n        fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else if (f = fragmentByStart[end]) {\n      delete fragmentByStart[f.start];\n      f.unshift(i);\n      f.start = start;\n      if (g = fragmentByEnd[start]) {\n        delete fragmentByEnd[g.end];\n        var gf = g === f ? f : g.concat(f);\n        fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else {\n      f = [i];\n      fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n    }\n  });\n\n  function ends(i) {\n    var arc = topology.arcs[i < 0 ? ~i : i], p0 = arc[0], p1;\n    if (topology.transform) p1 = [0, 0], arc.forEach(function(dp) { p1[0] += dp[0], p1[1] += dp[1]; });\n    else p1 = arc[arc.length - 1];\n    return i < 0 ? [p1, p0] : [p0, p1];\n  }\n\n  function flush(fragmentByEnd, fragmentByStart) {\n    for (var k in fragmentByEnd) {\n      var f = fragmentByEnd[k];\n      delete fragmentByStart[f.start];\n      delete f.start;\n      delete f.end;\n      f.forEach(function(i) { stitchedArcs[i < 0 ? ~i : i] = 1; });\n      fragments.push(f);\n    }\n  }\n\n  flush(fragmentByEnd, fragmentByStart);\n  flush(fragmentByStart, fragmentByEnd);\n  arcs.forEach(function(i) { if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]); });\n\n  return fragments;\n}\n","import {object} from \"./feature\";\nimport stitch from \"./stitch\";\n\nexport default function(topology) {\n  return object(topology, meshArcs.apply(this, arguments));\n}\n\nexport function meshArcs(topology, object, filter) {\n  var arcs, i, n;\n  if (arguments.length > 1) arcs = extractArcs(topology, object, filter);\n  else for (i = 0, arcs = new Array(n = topology.arcs.length); i < n; ++i) arcs[i] = i;\n  return {type: \"MultiLineString\", arcs: stitch(topology, arcs)};\n}\n\nfunction extractArcs(topology, object, filter) {\n  var arcs = [],\n      geomsByArc = [],\n      geom;\n\n  function extract0(i) {\n    var j = i < 0 ? ~i : i;\n    (geomsByArc[j] || (geomsByArc[j] = [])).push({i: i, g: geom});\n  }\n\n  function extract1(arcs) {\n    arcs.forEach(extract0);\n  }\n\n  function extract2(arcs) {\n    arcs.forEach(extract1);\n  }\n\n  function extract3(arcs) {\n    arcs.forEach(extract2);\n  }\n\n  function geometry(o) {\n    switch (geom = o, o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"LineString\": extract1(o.arcs); break;\n      case \"MultiLineString\": case \"Polygon\": extract2(o.arcs); break;\n      case \"MultiPolygon\": extract3(o.arcs); break;\n    }\n  }\n\n  geometry(object);\n\n  geomsByArc.forEach(filter == null\n      ? function(geoms) { arcs.push(geoms[0].i); }\n      : function(geoms) { if (filter(geoms[0].g, geoms[geoms.length - 1].g)) arcs.push(geoms[0].i); });\n\n  return arcs;\n}\n","export default function(a, x) {\n  var lo = 0, hi = a.length;\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n    if (a[mid] < x) lo = mid + 1;\n    else hi = mid;\n  }\n  return lo;\n}\n","// TODO if quantized, use simpler Int32 hashing?\n\nvar buffer = new ArrayBuffer(16),\n    floats = new Float64Array(buffer),\n    uints = new Uint32Array(buffer);\n\nexport default function(point) {\n  floats[0] = point[0];\n  floats[1] = point[1];\n  var hash = uints[0] ^ uints[1];\n  hash = hash << 5 ^ hash >> 7 ^ uints[2] ^ uints[3];\n  return hash & 0x7fffffff;\n}\n","var pi = Math.PI,\n    tau = 2 * pi,\n    quarterPi = pi / 4,\n    radians = pi / 180,\n    abs = Math.abs,\n    atan2 = Math.atan2,\n    cos = Math.cos,\n    sin = Math.sin;\n\nfunction halfArea(ring, closed) {\n  var i = 0,\n      n = ring.length,\n      sum = 0,\n      point = ring[closed ? i++ : n - 1],\n      lambda0, lambda1 = point[0] * radians,\n      phi1 = (point[1] * radians) / 2 + quarterPi,\n      cosPhi0, cosPhi1 = cos(phi1),\n      sinPhi0, sinPhi1 = sin(phi1);\n\n  for (; i < n; ++i) {\n    point = ring[i];\n    lambda0 = lambda1, lambda1 = point[0] * radians;\n    phi1 = (point[1] * radians) / 2 + quarterPi;\n    cosPhi0 = cosPhi1, cosPhi1 = cos(phi1);\n    sinPhi0 = sinPhi1, sinPhi1 = sin(phi1);\n\n    // Spherical excess E for a spherical triangle with vertices: south pole,\n    // previous point, current point.  Uses a formula derived from Cagnolis\n    // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n    // See https://github.com/d3/d3-geo/blob/master/README.md#geoArea\n    var dLambda = lambda1 - lambda0,\n        sdLambda = dLambda >= 0 ? 1 : -1,\n        adLambda = sdLambda * dLambda,\n        k = sinPhi0 * sinPhi1,\n        u = cosPhi0 * cosPhi1 + k * cos(adLambda),\n        v = k * sdLambda * sin(adLambda);\n    sum += atan2(v, u);\n  }\n\n  return sum;\n}\n\nexport function sphericalRingArea(ring, interior) {\n  var sum = halfArea(ring, true);\n  if (interior) sum *= -1;\n  return (sum < 0 ? tau + sum : sum) * 2;\n}\n\nexport function sphericalTriangleArea(t) {\n  return abs(halfArea(t, false)) * 2;\n}\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","function responseJson(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  if (response.status === 204 || response.status === 205) return;\n  return response.json();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseJson);\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar AlertCircle = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"8\",\n    x2: \"12\",\n    y2: \"12\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"16\",\n    x2: \"12.01\",\n    y2: \"16\"\n  }));\n});\nAlertCircle.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nAlertCircle.displayName = 'AlertCircle';\nexport default AlertCircle;","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [abs(lambda) > pi ? lambda + Math.round(-lambda / tau) * tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import adder from \"./adder.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nvar sum = adder();\n\nfunction longitude(point) {\n  if (abs(point[0]) <= pi)\n    return point[0];\n  else\n    return sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum.reset();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the points meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon) ^ (winding & 1);\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import {pair} from \"./pairs\";\n\nexport default function(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n","export default function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n","import transpose from \"./transpose\";\n\nexport default function() {\n  return transpose(arguments);\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0, 0], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1  n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygons polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = (alpha ? scaleTranslateRotate : scaleTranslate)(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import adder from \"../adder.js\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = adder(),\n    areaRingSum = adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum.reset();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import adder from \"../adder.js\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n}\n","import ascending from \"./ascending.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = array.length - 1, compare = ascending) {\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import max from \"./max.js\";\nimport min from \"./min.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","import {interpolate, interpolateRound} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default function(scheme) {\n  return interpolateRgbBasis(scheme[scheme.length - 1]);\n}\n","export default function noop() {}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M0.5,\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",0.5H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n"],"sourceRoot":""}