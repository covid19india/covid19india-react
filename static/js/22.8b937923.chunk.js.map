{"version":3,"sources":["../node_modules/fast-deep-equal/index.js","components/Tooltip.js","components/snippets/Icons.js","../../src/types.ts","../../src/index.ts","components/loaders/MapVisualizer.js","components/MapExplorer.js"],"names":["module","exports","equal","a","b","constructor","length","i","keys","Array","isArray","RegExp","source","flags","valueOf","Object","prototype","toString","hasOwnProperty","call","key","Tooltip","children","message","hold","handleClick","useCallback","e","stopPropagation","className","content","dangerouslySetInnerHTML","__html","split","map","text","join","arrow","animation","touch","onClick","Delta7Icon","size","PerLakhIcon","DistrictIcon","LEFT","RIGHT","UP","DOWN","defaultProps","delta","preventDefaultTouchmoveEvent","rotationAngle","trackMouse","trackTouch","initialState","first","initial","start","swiping","xy","mouseMove","mouseUp","touchEnd","touchMove","touchStart","absX","deltaX","deltaY","angle","pos","angleInRadians","Math","onStart","event","set","props","document","rotateXYByAngle","clientX","clientY","onMove","x","y","state","absY","time","velocity","vxvy","dir","getDirection","eventData","cancelablePageSwipe","onEnd","onSwipedDir","cleanUpMouse","onUp","attachTouch","el","passive","cleanup","tls","h","output","ref","addState","handlerProps","useSwipeable","options","transientState","React","transientProps","useMemo","getHandlers","stateSetter","handlers","updateTransientState","MapVisualizerLoader","width","statistic","windowWidth","window","innerWidth","mapHeight","height","MAP_LEGEND_HEIGHT","viewBox","speed","backgroundColor","STATISTIC_CONFIGS","color","cx","cy","r","MapVisualizer","lazy","retry","MapExplorer","stateCode","mapCode","data","mapStatistic","setMapStatistic","regionHighlighted","setRegionHighlighted","anchor","setAnchor","expandTable","hideDistrictData","lastUpdatedDate","t","useTranslation","mapExplorerRef","useRef","useWindowSize","useState","MAP_VIEWS","DISTRICTS","mapView","setMapView","isPerLakh","setIsPerLakh","delta7Mode","setDelta7Mode","mapMeta","MAP_META","mapData","mapType","MAP_TYPES","COUNTRY","hoveredRegion","hoveredData","districtName","districts","produce","draft","name","STATE_NAMES","handlePerLakhClick","statisticConfig","nonLinear","handleDistrictClick","newMapView","STATES","history","useHistory","panelRef","useEffect","location","hash","current","scrollIntoView","trail","styles","element","index","push","animationDelay","getMapStatistic","type","showDelta","tableConfig","getStatistic","expiredDate","normalizedByPopulationPer","canBeNaN","currentVal","isNaN","spring","useSpring","total","config","tension","SPRING_CONFIG_NUMBERS","handleStatisticChange","direction","currentIndex","MAP_STATISTICS","indexOf","toIndex","swipeHandlers","onSwipedLeft","bind","this","onSwipedRight","mapViz","mapConfig","colorScale","MAP_VIZS","CHOROPLETH","BUBBLES","handleDeltaClick","isDistrictView","stickied","transformStatistic","val","transformFn","zoneColor","classnames","hidden","style","display","UNKNOWN_DISTRICT_KEY","div","to","formatNumber","format","capitalize","displayName","disabled","STATE","fallback","clientWidth","isEqual","prevProps","currProps","TT","meta","memo"],"mappings":"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","file":"static/js/22.8b937923.chunk.js","sourcesContent":["'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","import Tippy from '@tippyjs/react';\nimport {useCallback} from 'react';\n\nimport 'tippy.js/dist/tippy.css';\nimport 'tippy.js/animations/shift-away.css';\n\nfunction Tooltip({children, message, hold = false}) {\n  const handleClick = useCallback((e) => e.stopPropagation(), []);\n\n  return (\n    <Tippy\n      className=\"Tooltip\"\n      content={\n        typeof message === 'string' ? (\n          <p\n            className=\"message\"\n            dangerouslySetInnerHTML={{\n              __html: message\n                .split('\\n')\n                .map((text) => `<div>${text}</div>`)\n                .join(''),\n            }}\n          ></p>\n        ) : (\n          message\n        )\n      }\n      arrow={false}\n      animation=\"shift-away\"\n      touch={hold ? ['hold', 300] : true}\n    >\n      <div onClick={handleClick}>{children}</div>\n    </Tippy>\n  );\n}\n\nexport default Tooltip;\n","import {OrganizationIcon, PeopleIcon, PulseIcon} from '@primer/octicons-react';\n\nexport const Delta7Icon = () => (\n  <div className=\"Icons\">\n    <PulseIcon size={16} />\n    <span>7D</span>\n  </div>\n);\n\nexport const PerLakhIcon = () => (\n  <div className=\"Icons\">\n    <PeopleIcon size={16} />\n    <span>1L</span>\n  </div>\n);\n\nexport const DistrictIcon = () => (\n  <div className=\"Icons\">\n    <OrganizationIcon size={16} />\n  </div>\n);\n","import * as React from \"react\";\n\nexport const LEFT = \"Left\";\nexport const RIGHT = \"Right\";\nexport const UP = \"Up\";\nexport const DOWN = \"Down\";\nexport type HandledEvents = React.MouseEvent | TouchEvent | MouseEvent;\nexport type Vector2 = [number, number];\nexport type SwipeDirections =\n  | typeof LEFT\n  | typeof RIGHT\n  | typeof UP\n  | typeof DOWN;\nexport interface SwipeEventData {\n  absX: number;\n  absY: number;\n  deltaX: number;\n  deltaY: number;\n  dir: SwipeDirections;\n  event: HandledEvents;\n  first: boolean;\n  initial: Vector2;\n  velocity: number;\n  vxvy: Vector2;\n}\n\nexport type SwipeCallback = (eventData: SwipeEventData) => void;\nexport type TapCallback = ({ event }: { event: HandledEvents }) => void;\n\nexport type SwipeableCallbacks = {\n  // Event handler/callbacks\n  onSwipeStart: SwipeCallback;\n  onSwiped: SwipeCallback;\n  onSwipedDown: SwipeCallback;\n  onSwipedLeft: SwipeCallback;\n  onSwipedRight: SwipeCallback;\n  onSwipedUp: SwipeCallback;\n  onSwiping: SwipeCallback;\n  onTap: TapCallback;\n};\n\n// Configuration Options\nexport interface ConfigurationOptions {\n  delta: number;\n  preventDefaultTouchmoveEvent: boolean;\n  rotationAngle: number;\n  trackMouse: boolean;\n  trackTouch: boolean;\n}\n\nexport type SwipeableProps = Partial<SwipeableCallbacks & ConfigurationOptions>;\n\nexport type SwipeablePropsWithDefaultOptions = Partial<SwipeableCallbacks> &\n  ConfigurationOptions;\n\nexport interface SwipeableHandlers {\n  ref(element: HTMLElement | null): void;\n  onMouseDown?(event: React.MouseEvent): void;\n}\n\nexport type SwipeableState = {\n  cleanUpTouch?: () => void;\n  el?: HTMLElement;\n  eventData?: SwipeEventData;\n  first: boolean;\n  initial: Vector2;\n  start: number;\n  swiping: boolean;\n  xy: Vector2;\n};\n\nexport type StateSetter = (\n  state: SwipeableState,\n  props: SwipeablePropsWithDefaultOptions\n) => SwipeableState;\nexport type Setter = (stateSetter: StateSetter) => void;\nexport type AttachTouch = (el: HTMLElement, passive: boolean) => () => void;\n","/* global document */\nimport * as React from \"react\";\nimport {\n  AttachTouch,\n  SwipeDirections,\n  DOWN,\n  SwipeEventData,\n  HandledEvents,\n  LEFT,\n  RIGHT,\n  Setter,\n  SwipeableHandlers,\n  SwipeableProps,\n  SwipeablePropsWithDefaultOptions,\n  SwipeableState,\n  SwipeCallback,\n  TapCallback,\n  UP,\n  Vector2,\n} from \"./types\";\n\nexport {\n  LEFT,\n  RIGHT,\n  UP,\n  DOWN,\n  SwipeDirections,\n  SwipeEventData,\n  SwipeCallback,\n  TapCallback,\n  SwipeableHandlers,\n  SwipeableProps,\n  Vector2,\n};\n\nconst defaultProps = {\n  delta: 10,\n  preventDefaultTouchmoveEvent: false,\n  rotationAngle: 0,\n  trackMouse: false,\n  trackTouch: true,\n};\nconst initialState: SwipeableState = {\n  first: true,\n  initial: [0, 0],\n  start: 0,\n  swiping: false,\n  xy: [0, 0],\n};\nconst mouseMove = \"mousemove\";\nconst mouseUp = \"mouseup\";\nconst touchEnd = \"touchend\";\nconst touchMove = \"touchmove\";\nconst touchStart = \"touchstart\";\n\nfunction getDirection(\n  absX: number,\n  absY: number,\n  deltaX: number,\n  deltaY: number\n): SwipeDirections {\n  if (absX > absY) {\n    if (deltaX > 0) {\n      return RIGHT;\n    }\n    return LEFT;\n  } else if (deltaY > 0) {\n    return DOWN;\n  }\n  return UP;\n}\n\nfunction rotateXYByAngle(pos: Vector2, angle: number): Vector2 {\n  if (angle === 0) return pos;\n  const angleInRadians = (Math.PI / 180) * angle;\n  const x =\n    pos[0] * Math.cos(angleInRadians) + pos[1] * Math.sin(angleInRadians);\n  const y =\n    pos[1] * Math.cos(angleInRadians) - pos[0] * Math.sin(angleInRadians);\n  return [x, y];\n}\n\nfunction getHandlers(\n  set: Setter,\n  handlerProps: { trackMouse: boolean | undefined }\n): [\n  {\n    ref: (element: HTMLElement | null) => void;\n    onMouseDown?: (event: React.MouseEvent) => void;\n  },\n  AttachTouch\n] {\n  const onStart = (event: HandledEvents) => {\n    // if more than a single touch don't track, for now...\n    if (event && \"touches\" in event && event.touches.length > 1) return;\n\n    set((state, props) => {\n      // setup mouse listeners on document to track swipe since swipe can leave container\n      if (props.trackMouse) {\n        document.addEventListener(mouseMove, onMove);\n        document.addEventListener(mouseUp, onUp);\n      }\n      const { clientX, clientY } =\n        \"touches\" in event ? event.touches[0] : event;\n      const xy = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n      return {\n        ...state,\n        ...initialState,\n        initial: [...xy],\n        xy,\n        start: event.timeStamp || 0,\n      };\n    });\n  };\n\n  const onMove = (event: HandledEvents) => {\n    set((state, props) => {\n      // Discount a swipe if additional touches are present after\n      // a swipe has started.\n      if (\"touches\" in event && event.touches.length > 1) {\n        return state;\n      }\n      const { clientX, clientY } =\n        \"touches\" in event ? event.touches[0] : event;\n      const [x, y] = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n      const deltaX = x - state.xy[0];\n      const deltaY = y - state.xy[1];\n      const absX = Math.abs(deltaX);\n      const absY = Math.abs(deltaY);\n      const time = (event.timeStamp || 0) - state.start;\n      const velocity = Math.sqrt(absX * absX + absY * absY) / (time || 1);\n      const vxvy: Vector2 = [deltaX / (time || 1), deltaY / (time || 1)];\n\n      // if swipe is under delta and we have not started to track a swipe: skip update\n      if (absX < props.delta && absY < props.delta && !state.swiping)\n        return state;\n\n      const dir = getDirection(absX, absY, deltaX, deltaY);\n      const eventData = {\n        absX,\n        absY,\n        deltaX,\n        deltaY,\n        dir,\n        event,\n        first: state.first,\n        initial: state.initial,\n        velocity,\n        vxvy,\n      };\n\n      // call onSwipeStart if present and is first swipe event\n      eventData.first && props.onSwipeStart && props.onSwipeStart(eventData);\n\n      // Call onSwiping if present\n      props.onSwiping && props.onSwiping(eventData);\n\n      // track if a swipe is cancelable(handler for swiping or swiped(dir) exists)\n      // so we can call preventDefault if needed\n      let cancelablePageSwipe = false;\n      if (props.onSwiping || props.onSwiped || `onSwiped${dir}` in props) {\n        cancelablePageSwipe = true;\n      }\n\n      if (\n        cancelablePageSwipe &&\n        props.preventDefaultTouchmoveEvent &&\n        props.trackTouch &&\n        event.cancelable\n      )\n        event.preventDefault();\n\n      return {\n        ...state,\n        // first is now always false\n        first: false,\n        eventData,\n        swiping: true,\n      };\n    });\n  };\n\n  const onEnd = (event: HandledEvents) => {\n    set((state, props) => {\n      let eventData: SwipeEventData | undefined;\n      if (state.swiping && state.eventData) {\n        eventData = { ...state.eventData, event };\n        props.onSwiped && props.onSwiped(eventData);\n\n        const onSwipedDir = `onSwiped${eventData.dir}`;\n        if (onSwipedDir in props) {\n          ((props as any)[onSwipedDir] as SwipeCallback)(eventData);\n        }\n      } else {\n        props.onTap && props.onTap({ event });\n      }\n      return { ...state, ...initialState, eventData };\n    });\n  };\n\n  const cleanUpMouse = () => {\n    // safe to just call removeEventListener\n    document.removeEventListener(mouseMove, onMove);\n    document.removeEventListener(mouseUp, onUp);\n  };\n\n  const onUp = (e: HandledEvents) => {\n    cleanUpMouse();\n    onEnd(e);\n  };\n\n  /**\n   * Switch of \"passive\" property for now.\n   * When `preventDefaultTouchmoveEvent` is:\n   * - true => { passive: false }\n   * - false => { passive: true }\n   *\n   * Could take entire `addEventListener` options object as a param later?\n   */\n  const attachTouch: AttachTouch = (el, passive) => {\n    let cleanup = () => {};\n    if (el && el.addEventListener) {\n      // attach touch event listeners and handlers\n      const tls: [\n        typeof touchStart | typeof touchMove | typeof touchEnd,\n        (e: HandledEvents) => void\n      ][] = [\n        [touchStart, onStart],\n        [touchMove, onMove],\n        [touchEnd, onEnd],\n      ];\n      tls.forEach(([e, h]) => el.addEventListener(e, h, { passive }));\n      // return properly scoped cleanup method for removing listeners, options not required\n      cleanup = () => tls.forEach(([e, h]) => el.removeEventListener(e, h));\n    }\n    return cleanup;\n  };\n\n  const onRef = (el: HTMLElement | null) => {\n    // \"inline\" ref functions are called twice on render, once with null then again with DOM element\n    // ignore null here\n    if (el === null) return;\n    set((state, props) => {\n      // if the same DOM el as previous just return state\n      if (state.el === el) return state;\n\n      const addState: { cleanUpTouch?: () => void } = {};\n      // if new DOM el clean up old DOM and reset cleanUpTouch\n      if (state.el && state.el !== el && state.cleanUpTouch) {\n        state.cleanUpTouch();\n        addState.cleanUpTouch = undefined;\n      }\n      // only attach if we want to track touch\n      if (props.trackTouch && el) {\n        addState.cleanUpTouch = attachTouch(\n          el,\n          !props.preventDefaultTouchmoveEvent\n        );\n      }\n\n      // store event attached DOM el for comparison, clean up, and re-attachment\n      return { ...state, el, ...addState };\n    });\n  };\n\n  // set ref callback to attach touch event listeners\n  const output: { ref: typeof onRef; onMouseDown?: typeof onStart } = {\n    ref: onRef,\n  };\n\n  // if track mouse attach mouse down listener\n  if (handlerProps.trackMouse) {\n    output.onMouseDown = onStart;\n  }\n\n  return [output, attachTouch];\n}\n\nfunction updateTransientState(\n  state: SwipeableState,\n  props: SwipeableProps,\n  attachTouch: AttachTouch\n) {\n  const addState: { cleanUpTouch?(): void } = {};\n  // clean up touch handlers if no longer tracking touches\n  if (!props.trackTouch && state.cleanUpTouch) {\n    state.cleanUpTouch();\n    addState.cleanUpTouch = undefined;\n  } else if (props.trackTouch && !state.cleanUpTouch) {\n    // attach/re-attach touch handlers\n    if (state.el) {\n      addState.cleanUpTouch = attachTouch(\n        state.el,\n        !props.preventDefaultTouchmoveEvent\n      );\n    }\n  }\n  return { ...state, ...addState };\n}\n\nexport function useSwipeable(options: SwipeableProps): SwipeableHandlers {\n  const { trackMouse } = options;\n  const transientState = React.useRef({ ...initialState });\n  const transientProps = React.useRef<SwipeablePropsWithDefaultOptions>({\n    ...defaultProps,\n  });\n  transientProps.current = { ...defaultProps, ...options };\n\n  const [handlers, attachTouch] = React.useMemo(\n    () =>\n      getHandlers(\n        (stateSetter) =>\n          (transientState.current = stateSetter(\n            transientState.current,\n            transientProps.current\n          )),\n        { trackMouse }\n      ),\n    [trackMouse]\n  );\n\n  transientState.current = updateTransientState(\n    transientState.current,\n    transientProps.current,\n    attachTouch\n  );\n\n  return handlers;\n}\n","import {STATISTIC_CONFIGS, MAP_LEGEND_HEIGHT} from '../../constants';\n\nimport ContentLoader from 'react-content-loader';\n\n// Margins as declared in CSS\nexport const MAP_BUFFER_MARGINS = 42;\nexport const INDIA_ASPECT_RATIO = 0.885;\n\nconst MapVisualizerLoader = ({width, statistic}) => {\n  const windowWidth = window.innerWidth;\n  // Default width for loader\n  if (!width) width = windowWidth >= 769 ? 480 : windowWidth;\n  // From CSS\n  const scalingFactor = windowWidth >= 769 ? 0.9 : 1;\n  const mapHeight = (scalingFactor * width) / INDIA_ASPECT_RATIO;\n  const height = MAP_BUFFER_MARGINS + MAP_LEGEND_HEIGHT + mapHeight;\n  return (\n    <ContentLoader\n      viewBox={`0 0 ${width} ${height}`}\n      height={height}\n      width={width}\n      speed={2}\n      backgroundColor={STATISTIC_CONFIGS[statistic].color}\n    >\n      <circle cx={0.4 * width} cy={height / 2} r=\"5\" />\n      <circle cx={0.5 * width} cy={height / 2} r=\"5\" />\n      <circle cx={0.6 * width} cy={height / 2} r=\"5\" />\n    </ContentLoader>\n  );\n};\n\nexport default MapVisualizerLoader;\n","import MapVisualizerLoader from './loaders/MapVisualizer';\nimport {Delta7Icon, PerLakhIcon} from './snippets/Icons';\nimport Tooltip from './Tooltip';\n\nimport {\n  MAP_META,\n  MAP_TYPES,\n  MAP_VIEWS,\n  MAP_VIZS,\n  MAP_STATISTICS,\n  SPRING_CONFIG_NUMBERS,\n  STATE_NAMES,\n  STATISTIC_CONFIGS,\n  UNKNOWN_DISTRICT_KEY,\n} from '../constants';\nimport {\n  formatNumber,\n  getStatistic,\n  capitalize,\n  retry,\n} from '../utils/commonFunctions';\n\nimport {\n  ArrowLeftIcon,\n  DotFillIcon,\n  PinIcon,\n  OrganizationIcon,\n} from '@primer/octicons-react';\nimport classnames from 'classnames';\nimport equal from 'fast-deep-equal';\nimport produce from 'immer';\nimport {\n  memo,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n  Suspense,\n  lazy,\n} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useHistory} from 'react-router-dom';\nimport {animated, useSpring} from 'react-spring';\nimport {useSwipeable} from 'react-swipeable';\nimport {useWindowSize} from 'react-use';\n\nconst MapVisualizer = lazy(() => retry(() => import('./MapVisualizer')));\n\nfunction MapExplorer({\n  stateCode: mapCode = 'TT',\n  data,\n  mapStatistic,\n  setMapStatistic,\n  regionHighlighted,\n  setRegionHighlighted,\n  anchor,\n  setAnchor,\n  expandTable = false,\n  hideDistrictData = false,\n  lastUpdatedDate,\n}) {\n  const {t} = useTranslation();\n  const mapExplorerRef = useRef();\n  const {width} = useWindowSize();\n\n  const [mapView, setMapView] = useState(MAP_VIEWS.DISTRICTS);\n  const [isPerLakh, setIsPerLakh] = useState(false);\n  const [delta7Mode, setDelta7Mode] = useState(false);\n\n  const mapMeta = MAP_META[mapCode];\n  const mapData =\n    mapMeta.mapType === MAP_TYPES.COUNTRY ? data : {[mapCode]: data[mapCode]};\n\n  const hoveredRegion = useMemo(() => {\n    const hoveredData =\n      (regionHighlighted.districtName\n        ? data[regionHighlighted.stateCode]?.districts?.[\n            regionHighlighted.districtName\n          ]\n        : data[regionHighlighted.stateCode]) || {};\n\n    return produce(hoveredData, (draft) => {\n      draft.name =\n        regionHighlighted.districtName ||\n        STATE_NAMES[regionHighlighted.stateCode];\n    });\n  }, [data, regionHighlighted.stateCode, regionHighlighted.districtName]);\n\n  const handlePerLakhClick = useCallback(() => {\n    const statisticConfig = STATISTIC_CONFIGS[mapStatistic];\n    if (statisticConfig?.nonLinear || mapStatistic === 'population') {\n      return;\n    }\n    setIsPerLakh((isPerLakh) => !isPerLakh);\n  }, [mapStatistic, setIsPerLakh]);\n\n  const handleDistrictClick = useCallback(() => {\n    const newMapView =\n      mapView === MAP_VIEWS.DISTRICTS ? MAP_VIEWS.STATES : MAP_VIEWS.DISTRICTS;\n    if (newMapView === MAP_VIEWS.STATES) {\n      setRegionHighlighted({\n        stateCode: regionHighlighted.stateCode,\n        districtName: null,\n      });\n    }\n    setMapView(newMapView);\n  }, [mapView, regionHighlighted.stateCode, setMapView, setRegionHighlighted]);\n\n  const history = useHistory();\n  const panelRef = useRef();\n\n  useEffect(() => {\n    if (history.location.hash === '#MapExplorer') {\n      panelRef.current.scrollIntoView();\n    }\n  }, [history]);\n\n  const trail = useMemo(() => {\n    const styles = [];\n\n    [0, 0, 0, 0, 0, 0, 0].map((element, index) => {\n      styles.push({\n        animationDelay: `${index * 250}ms`,\n      });\n      return null;\n    });\n\n    return styles;\n  }, []);\n\n  const getMapStatistic = useCallback(\n    (data) => {\n      const statisticConfig = STATISTIC_CONFIGS[mapStatistic];\n\n      const type =\n        (statisticConfig?.showDelta && delta7Mode) ||\n        statisticConfig?.tableConfig?.type === 'delta7'\n          ? 'delta7'\n          : 'total';\n\n      return getStatistic(data, type, mapStatistic, {\n        expiredDate: lastUpdatedDate,\n        normalizedByPopulationPer:\n          isPerLakh && mapStatistic != 'population' ? 'lakh' : null,\n        canBeNaN: true,\n      });\n    },\n    [mapStatistic, isPerLakh, lastUpdatedDate, delta7Mode]\n  );\n\n  let currentVal = getMapStatistic(hoveredRegion);\n  if (isNaN(currentVal)) currentVal = '-';\n\n  const spring = useSpring({\n    total: currentVal,\n    config: {tension: 250, ...SPRING_CONFIG_NUMBERS},\n  });\n\n  const handleStatisticChange = useCallback(\n    (direction) => {\n      const currentIndex = MAP_STATISTICS.indexOf(mapStatistic);\n      const toIndex =\n        (MAP_STATISTICS.length + currentIndex + direction) %\n        MAP_STATISTICS.length;\n      setMapStatistic(MAP_STATISTICS[toIndex]);\n    },\n    [mapStatistic, setMapStatistic]\n  );\n\n  const swipeHandlers = useSwipeable({\n    onSwipedLeft: handleStatisticChange.bind(this, 1),\n    onSwipedRight: handleStatisticChange.bind(this, -1),\n  });\n\n  const statisticConfig = STATISTIC_CONFIGS[mapStatistic];\n\n  const mapViz =\n    mapStatistic !== 'population' &&\n    (isPerLakh ||\n      statisticConfig?.mapConfig?.colorScale ||\n      statisticConfig?.nonLinear)\n      ? MAP_VIZS.CHOROPLETH\n      : MAP_VIZS.BUBBLES;\n\n  const handleDeltaClick = useCallback(() => {\n    if (statisticConfig?.showDelta) {\n      setDelta7Mode((delta7Mode) => !delta7Mode);\n    }\n  }, [statisticConfig, setDelta7Mode]);\n\n  const isDistrictView = mapView === MAP_VIEWS.DISTRICTS && !hideDistrictData;\n\n  const stickied = anchor === 'mapexplorer' || (expandTable && width >= 769);\n\n  const transformStatistic = useCallback(\n    (val) =>\n      statisticConfig?.mapConfig?.transformFn\n        ? statisticConfig.mapConfig.transformFn(val)\n        : val,\n    [statisticConfig]\n  );\n\n  const zoneColor = statisticConfig?.mapConfig?.colorScale\n    ? statisticConfig.mapConfig.colorScale(transformStatistic(currentVal))\n    : '';\n\n  return (\n    <div\n      className={classnames(\n        'MapExplorer',\n        {stickied},\n        {\n          hidden:\n            anchor && anchor !== 'mapexplorer' && (!expandTable || width < 769),\n        }\n      )}\n    >\n      <div\n        className={classnames('anchor', 'fadeInUp', {\n          stickied,\n        })}\n        style={{\n          display: width < 769 || (width >= 769 && expandTable) ? 'none' : '',\n        }}\n        onClick={\n          setAnchor &&\n          setAnchor.bind(this, anchor === 'mapexplorer' ? null : 'mapexplorer')\n        }\n      >\n        <PinIcon />\n      </div>\n      <div className=\"panel\" ref={panelRef}>\n        <div className=\"panel-left fadeInUp\" style={trail[0]}>\n          <h2\n            className={classnames(mapStatistic)}\n            style={{color: zoneColor || statisticConfig?.color}}\n          >\n            {t(hoveredRegion.name)}\n            {hoveredRegion.name === UNKNOWN_DISTRICT_KEY &&\n              ` [${t(STATE_NAMES[regionHighlighted.stateCode])}]`}\n          </h2>\n\n          {regionHighlighted.stateCode && (\n            <h1\n              className={classnames('district', mapStatistic)}\n              style={{color: zoneColor || statisticConfig?.color}}\n            >\n              <animated.div>\n                {spring.total.to((total) =>\n                  formatNumber(total, statisticConfig.format, mapStatistic)\n                )}\n              </animated.div>\n              <span>{`${t(capitalize(statisticConfig.displayName))}${\n                isPerLakh &&\n                !statisticConfig?.nonLinear &&\n                mapStatistic !== 'population'\n                  ? ` ${t('per lakh')}`\n                  : ''\n              }${\n                (delta7Mode && statisticConfig?.showDelta) ||\n                statisticConfig?.tableConfig?.type === 'delta7'\n                  ? ` ${t('in last 7 days')}`\n                  : ''\n              }`}</span>\n            </h1>\n          )}\n        </div>\n\n        <div className={classnames('panel-right', `is-${mapStatistic}`)}>\n          <div className=\"switch-type\">\n            <Tooltip message={'Last 7 day values'} hold>\n              <div\n                className={classnames('toggle', 'fadeInUp', {\n                  'is-highlighted':\n                    (delta7Mode && statisticConfig?.showDelta) ||\n                    statisticConfig?.tableConfig?.type === 'delta7',\n                  disabled: !statisticConfig?.showDelta,\n                })}\n                onClick={handleDeltaClick}\n                style={trail[1]}\n              >\n                <Delta7Icon />\n              </div>\n            </Tooltip>\n\n            <Tooltip message={'Per lakh people'} hold>\n              <div\n                className={classnames('toggle', 'fadeInUp', {\n                  'is-highlighted':\n                    !statisticConfig?.nonLinear &&\n                    mapViz === MAP_VIZS.CHOROPLETH,\n                  disabled:\n                    statisticConfig?.nonLinear || mapStatistic === 'population',\n                })}\n                onClick={handlePerLakhClick}\n                style={trail[2]}\n              >\n                <PerLakhIcon />\n              </div>\n            </Tooltip>\n\n            {mapMeta.mapType === MAP_TYPES.COUNTRY && (\n              <Tooltip message={'Toggle between states/districts'} hold>\n                <div\n                  className={classnames('toggle', 'boundary fadeInUp', {\n                    'is-highlighted': isDistrictView,\n                  })}\n                  onClick={handleDistrictClick}\n                  style={trail[3]}\n                >\n                  <OrganizationIcon />\n                </div>\n              </Tooltip>\n            )}\n\n            {mapMeta.mapType === MAP_TYPES.STATE && (\n              <>\n                <div className=\"divider\" />\n                <div\n                  className=\"toggle back fadeInUp\"\n                  onClick={() => {\n                    history.push('/#MapExplorer');\n                  }}\n                  style={trail[4]}\n                >\n                  <ArrowLeftIcon />\n                </div>\n              </>\n            )}\n          </div>\n\n          <div className=\"switch-statistic fadeInUp\" style={trail[5]}>\n            {MAP_STATISTICS.map((statistic) => (\n              <div\n                key={statistic}\n                className={classnames(\n                  'toggle',\n                  'statistic-option',\n                  `is-${statistic}`,\n                  {\n                    'is-highlighted': mapStatistic === statistic,\n                  }\n                )}\n                onClick={setMapStatistic.bind(this, statistic)}\n              >\n                <DotFillIcon />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div\n        ref={mapExplorerRef}\n        className=\"fadeInUp\"\n        style={trail[3]}\n        {...swipeHandlers}\n      >\n        {mapStatistic && (\n          <Suspense\n            fallback={\n              <MapVisualizerLoader\n                className=\"map-loader\"\n                {...{\n                  width: mapExplorerRef.current?.clientWidth,\n                  statistic: mapStatistic,\n                }}\n              />\n            }\n          >\n            <MapVisualizer\n              data={mapData}\n              statistic={mapStatistic}\n              {...{\n                mapCode,\n                isDistrictView,\n                mapViz,\n                regionHighlighted,\n                setRegionHighlighted,\n                getMapStatistic,\n                transformStatistic,\n              }}\n            ></MapVisualizer>\n          </Suspense>\n        )}\n      </div>\n    </div>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (!equal(prevProps.stateCode, currProps.stateCode)) {\n    return false;\n  } else if (!equal(prevProps.regionHighlighted, currProps.regionHighlighted)) {\n    return false;\n  } else if (!equal(prevProps.mapStatistic, currProps.mapStatistic)) {\n    return false;\n  } else if (!equal(prevProps.anchor, currProps.anchor)) {\n    return false;\n  } else if (!equal(prevProps.hideDistrictData, currProps.hideDistrictData)) {\n    return false;\n  } else if (!equal(prevProps.expandTable, currProps.expandTable)) {\n    return false;\n  } else if (\n    !equal(\n      prevProps.data?.TT?.meta?.['last_updated'],\n      currProps.data?.TT?.meta?.['last_updated']\n    )\n  ) {\n    return false;\n  } else if (!equal(prevProps.data?.TT?.total, currProps.data?.TT?.total)) {\n    return false;\n  }\n  return true;\n};\n\nexport default memo(MapExplorer, isEqual);\n"],"sourceRoot":""}